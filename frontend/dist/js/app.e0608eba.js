(function(t){function e(e){for(var s,n,o=e[0],c=e[1],l=e[2],u=0,v=[];u<o.length;u++)n=o[u],i[n]&&v.push(i[n][0]),i[n]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);d&&d(e);while(v.length)v.shift()();return r.push.apply(r,l||[]),a()}function a(){for(var t,e=0;e<r.length;e++){for(var a=r[e],s=!0,o=1;o<a.length;o++){var c=a[o];0!==i[c]&&(s=!1)}s&&(r.splice(e--,1),t=n(n.s=a[0]))}return t}var s={},i={app:0},r=[];function n(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=t,n.c=s,n.d=function(t,e,a){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)n.d(a,s,function(e){return t[e]}.bind(null,s));return a},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var d=c;r.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"133a":function(t,e,a){"use strict";var s=a("cce1"),i=a.n(s);i.a},4678:function(t,e,a){var s={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb718","./de-ch.js":"bb718","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-SG":"cdab","./en-SG.js":"cdab","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-nz":"6f50","./en-nz.js":"6f50","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-tw":"90ea","./zh-tw.js":"90ea"};function i(t){var e=r(t);return a(e)}function r(t){var e=s[t];if(!(e+1)){var a=new Error("Cannot find module '"+t+"'");throw a.code="MODULE_NOT_FOUND",a}return e}i.keys=function(){return Object.keys(s)},i.resolve=r,t.exports=i,i.id="4678"},"56d7":function(t,e,a){"use strict";a.r(e);var s=a("795b"),i=a.n(s),r=(a("cadf"),a("551c"),a("f751"),a("097d"),a("2b0e")),n=a("bb71");a("da64");r["a"].use(n["a"],{iconfont:"md"});var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("v-navigation"),a("main",[a("v-content",[a("v-container",{attrs:{fluid:""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("div",{staticClass:"text-xs-center"},[a("v-progress-circular",{directives:[{name:"show",rawName:"v-show",value:t.loadingResource,expression:"loadingResource"}],attrs:{size:50,color:"primary",indeterminate:""}})],1)]),a("router-view")],1)],1)],1)],1)],1)},c=[],l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-toolbar",{staticClass:"blue white--text",attrs:{app:""}},[a("v-toolbar-side-icon",{on:{click:t.changeDrawerState}}),a("v-toolbar-title",[t._v("GMS")]),a("v-spacer"),a("v-toolbar-items",{staticClass:"hidden-sm-and-down"},[t.userIsAuthenticated?a("v-btn",{attrs:{flat:""},on:{click:t.onLogout}},[t._v(" Salir "),a("i",{staticClass:"fa fa-power-off"})]):t._e()],1)],1)},d=[],u=a("cebc"),v=a("2f62"),m={methods:{onLogout:function(){this.$store.dispatch("auth/logoutUser")},changeDrawerState:function(){this.$emit("changeDrawerState")}},computed:Object(u["a"])({},Object(v["b"])({userIsAuthenticated:"auth/isAuthenticated"}))},p=m,f=a("2877"),h=a("6544"),b=a.n(h),_=a("8336"),g=a("9910"),x=a("71d9"),j=a("2a7f"),y=a("706c"),V=Object(f["a"])(p,l,d,!1,null,null,null),k=V.exports;b()(V,{VBtn:_["a"],VSpacer:g["a"],VToolbar:x["a"],VToolbarItems:j["a"],VToolbarSideIcon:y["a"],VToolbarTitle:j["b"]});var C=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.userIsAuthenticated?a("v-navigation-drawer",{attrs:{absolute:"",temporary:""},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[a("v-list",[t.canSeeProjectsModule?a("v-list-tile",{attrs:{router:"",to:"/projects"}},[a("v-list-tile-action",[a("v-icon",[t._v("list_alt")])],1),a("v-list-tile-title",[t._v("Proyectos")])],1):t._e(),t.canSeeViaticsModule?a("v-list-tile",{attrs:{router:"",to:"/viatics"}},[a("v-list-tile-action",[a("v-icon",[t._v("attach_money")])],1),a("v-list-tile-title",[t._v("Viáticos")])],1):t._e(),t.canSeeHoursModule?a("v-list-tile",{attrs:{router:"",to:"/hours"}},[a("v-list-tile-action",[a("v-icon",[t._v("watch_later")])],1),a("v-list-tile-title",[t._v("Horas")])],1):t._e(),t.canSeeCompanyModule?a("v-list-tile",{attrs:{router:"",to:"/company"}},[a("v-list-tile-action",[a("v-icon",[t._v("domain")])],1),a("v-list-tile-title",[t._v("Empresa")])],1):t._e(),t.canSeeUsersModule?a("v-list-tile",{attrs:{router:"",to:"/users"}},[a("v-list-tile-action",[a("v-icon",[t._v("group")])],1),a("v-list-tile-title",[t._v("Usuarios")])],1):t._e(),a("v-list-tile",{on:{click:t.onLogout}},[a("v-list-tile-action",[a("v-icon",[t._v("power_settings_new")])],1),a("v-list-tile-title",[t._v("Salir")])],1)],1)],1):t._e(),a("v-toolbar",{staticClass:"blue white--text",attrs:{app:""}},[t.userIsAuthenticated?a("v-toolbar-side-icon",{on:{click:t.changeDrawerState}}):t._e(),a("v-toolbar-title",[t._v("GMS")]),a("v-spacer")],1)],1)},w=[],T=(a("6762"),{data:function(){return{drawer:!1,admins:[["Usuarios registrados","people_outline"]],cruds:[["Ver estructura","business"]],menu:[{title:"Proyectos",icon:"list_alt",link:"/projects"},{title:"Viáticos",icon:"attach_money",link:"/viatics"},{title:"Horas",icon:"watch_later",link:"/hours"}]}},methods:{onLogout:function(){this.$store.dispatch("auth/logoutUser")},changeDrawerState:function(){this.drawer=!this.drawer}},computed:Object(u["a"])({},Object(v["b"])({roles:"auth/getRolesCurrentUser",userIsAuthenticated:"auth/isAuthenticated",rolesNames:"auth/getRolesNamesCurrentUser"}),{canSeeViaticsModule:function(){return!0},canSeeProjectsModule:function(){var t=["admin","supervisor","pm","super-pm"];return this.rolesNames.some(function(e){return t.includes(e)})},canSeeUsersModule:function(){var t=["admin"];return this.rolesNames.some(function(e){return t.includes(e)})},canSeeCompanyModule:function(){var t=["admin","supervisor"];return this.rolesNames.some(function(e){return t.includes(e)})},canSeeHoursModule:function(){var t=["supervisor","pm","engineer","super-pm"];return this.rolesNames.some(function(e){return t.includes(e)})}})}),I=T,P=a("132d"),U=a("8860"),S=a("ba95"),A=a("40fe"),O=a("5d23"),D=a("f774"),E=Object(f["a"])(I,C,w,!1,null,null,null),F=E.exports;b()(E,{VIcon:P["a"],VList:U["a"],VListTile:S["a"],VListTileAction:A["a"],VListTileTitle:O["b"],VNavigationDrawer:D["a"],VSpacer:g["a"],VToolbar:x["a"],VToolbarSideIcon:y["a"],VToolbarTitle:j["b"]});var M={name:"App",components:{"v-navbar":k,"v-navigation":F},data:function(){return{}},methods:{},computed:{message:function(){return this.$store.getters["message"]},loadingResource:function(){return this.$store.getters["loadingResource"]}},watch:{message:function(){""!=this.message&&this.$toasted.info(this.message)}}},R=M,z=a("7496"),L=a("a523"),Y=a("549c"),N=a("0e8f"),H=a("a722"),q=a("490a"),G=Object(f["a"])(R,o,c,!1,null,null,null),B=G.exports;b()(G,{VApp:z["a"],VContainer:L["a"],VContent:Y["a"],VFlex:N["a"],VLayout:H["a"],VProgressCircular:q["a"]});var Q=a("75fc"),J=a("8c4f"),K=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-flex",{attrs:{xs12:""}},[a("section",[a("v-parallax",{attrs:{src:t.images.login}},[a("v-layout",{staticClass:"black--text",attrs:{column:"","align-center":"","justify-center":""}},[a("h1",{staticClass:"white--text mb-2 display-2 text-xs-center"},[t._v("Bienvenido")]),a("v-card",{staticClass:"login-form"},[a("v-card-title",{staticClass:"headline blue white--text"},[a("v-icon",[t._v("\n                        account_circle\n                    ")]),a("h3",[t._v("Iniciar sesión")])],1),a("v-card-text",[a("v-form",[a("v-input",{attrs:{"prepend-icon":"email"}},[t._v("\n                            Email\n                        ")]),a("v-text-field",{attrs:{label:"Email"},model:{value:t.user.email,callback:function(e){t.$set(t.user,"email",e)},expression:"user.email"}}),a("v-input",{attrs:{"prepend-icon":"vpn_key"}},[t._v("\n                            Password\n                        ")]),a("v-text-field",{attrs:{type:"password",label:"Password"},model:{value:t.user.password,callback:function(e){t.$set(t.user,"password",e)},expression:"user.password"}})],1)],1),a("v-card-actions",[a("v-btn",{staticClass:"blue white--text",attrs:{disabled:t.invalidForm},on:{click:t.onLogin}},[t._v("\n                    Entrar\n                    ")])],1)],1)],1)],1)],1)])},W=[],X=a("d225"),Z=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",n=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"",c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"",l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:"",d=arguments.length>9&&void 0!==arguments[9]?arguments[9]:"";Object(X["a"])(this,t),this.id=e,this.name=a,this.lastname=s,this.email=i,this.password=r,this.employee_number=n,this.active=o,this.area_id=c,this.department_id=l,this.positon_id=d},tt={data:function(){return{user:new Z,images:{login:a("afd8")}}},methods:{onLogin:function(){this.$store.dispatch("auth/loginUser",this.user)}},computed:{invalidForm:function(){return""==this.user.email||""==this.user.password}}},et=tt,at=(a("133a"),a("b0af")),st=a("99d9"),it=a("12b2"),rt=a("4bd4"),nt=a("b675"),ot=a("8b9c"),ct=a("2677"),lt=Object(f["a"])(et,K,W,!1,null,"d635c8ae",null),dt=lt.exports;b()(lt,{VBtn:_["a"],VCard:at["a"],VCardActions:st["a"],VCardText:st["b"],VCardTitle:it["a"],VFlex:N["a"],VForm:rt["a"],VIcon:P["a"],VInput:nt["a"],VLayout:H["a"],VParallax:ot["a"],VTextField:ct["a"]});var ut=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",[a("v-flex",[a("v-projects-tabs")],1)],1)},vt=[],mt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-tabs",{attrs:{"fixed-tabs":""}},[t._l(t.tabs,function(e){return a("v-tab",{key:e,attrs:{ripple:""}},[t._v("\n        "+t._s(e)+"\n\n    ")])}),a("v-tab-item",[a("v-card",{attrs:{flat:""}},[a("v-card-text",[a("v-active-projects")],1)],1)],1),a("v-tab-item",[a("v-card",{attrs:{flat:""}},[a("v-card-text",[a("v-budget-projects")],1)],1)],1),a("v-tab-item",[a("v-card",{attrs:{flat:""}},[a("v-card-text",[a("v-sales-projects")],1)],1)],1),a("v-tab-item",[a("v-card",{attrs:{flat:""}},[a("v-card-text",[a("v-finished-projects")],1)],1)],1)],2),a("v-btn",{attrs:{absolute:"",dark:"",fab:"",top:"",router:"",to:"/projects/add",right:"",color:"cyan"}},[a("v-icon",[t._v("add")])],1)],1)},pt=[],ft=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},ht=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mt-4"},[a("table",{staticClass:"v-datatable v-table theme--light",attrs:{id:"sales-projects"}},[a("thead",[a("tr",[a("th",[t._v("ID")]),a("th",[t._v("PRY")]),a("th",[t._v("Nombre")]),a("th",[t._v("Responsable")]),a("th",[t._v("Cliente")]),a("th",[t._v("Presupuesto")]),a("th",[t._v("Gastado")]),a("th",[t._v("Acciones")])])]),a("tbody")])])}];window.$=window.jQuery=a("1157");a("1653");var bt={mounted:function(){var t=this;$(function(){window.active_projects_table=$("#sales-projects").DataTable({processing:!0,serverSide:!0,responsive:!0,orderCellsTop:!0,ordering:!0,aLengthMenu:[[10,25,50,100,200,-1],[10,25,50,100,200,"All"]],ajax:{url:"http://localhost:8081/api/v1/projects/sales/datatable",beforeSend:function(e){e.setRequestHeader("Authorization",localStorage.getItem("token")),t.$store.dispatch("updateStateLoadingResource",!0)},error:function(e,a,s){401===e.status&&t.logoutUser(!0)}},initComplete:function(e,a){t.$store.dispatch("updateStateLoadingResource",!1)},drawCallback:function(){for(var t=document.querySelectorAll(".paginate_button"),e=0;e<t.length;e++)t[e].classList+=" v-btn theme--light blue text--white"},columnDefs:[{targets:7,render:function(t,e,a){return'<button data-id="'.concat(t,'" class="open_project v-btn v-btn--flat v-btn--icon theme--light blue--text"> <i class="fa fa-edit"></i> </button>')}}],order:[[0,"desc"]]})}),$("#sales-projects tbody").on("click",".open_project",function(e){var a=$(this).data("id");a&&t.onShowProject(a)})},methods:{onShowProject:function(t){this.$router.push({name:"edit-project",params:{id:t}})},logoutUser:function(t){this.$store.dispatch("auth/logoutUser",t)}}},_t=bt,gt=Object(f["a"])(_t,ft,ht,!1,null,null,null),xt=gt.exports,jt=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},yt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mt-4"},[a("table",{staticClass:"v-datatable v-table theme--light",attrs:{id:"budget-projects"}},[a("thead",[a("tr",[a("th",[t._v("ID")]),a("th",[t._v("PRY")]),a("th",[t._v("Nombre")]),a("th",[t._v("Responsable")]),a("th",[t._v("Cliente")]),a("th",[t._v("Presupuesto")]),a("th",[t._v("Gastado")]),a("th",[t._v("Acciones")])])]),a("tbody")])])}];window.$=window.jQuery=a("1157");a("1653");var Vt={mounted:function(){var t=this;$(function(){window.active_projects_table=$("#budget-projects").DataTable({processing:!0,serverSide:!0,responsive:!0,orderCellsTop:!0,ordering:!0,aLengthMenu:[[10,25,50,100,200,-1],[10,25,50,100,200,"All"]],ajax:{url:"http://localhost:8081/api/v1/projects/budgets/datatable",beforeSend:function(e){e.setRequestHeader("Authorization",localStorage.getItem("token")),t.$store.dispatch("updateStateLoadingResource",!0)},error:function(e,a,s){401===e.status&&t.logoutUser(!0)}},initComplete:function(e,a){t.$store.dispatch("updateStateLoadingResource",!1)},columnDefs:[{targets:7,render:function(t,e,a){return'<button data-id="'.concat(t,'" class="open_project v-btn v-btn--flat v-btn--icon theme--light blue--text"> <i class="fa fa-edit"></i> </button>')}}],drawCallback:function(){for(var t=document.querySelectorAll(".paginate_button"),e=0;e<t.length;e++)t[e].classList+=" v-btn theme--light blue text--white"},order:[[0,"desc"]]})}),$("#budget-projects tbody").on("click",".open_project",function(e){var a=$(this).data("id");a&&t.onShowProject(a)})},methods:{onShowProject:function(t){this.$router.push({name:"edit-project",params:{id:t}})},logoutUser:function(t){this.$store.dispatch("auth/logoutUser",t)}}},kt=Vt,Ct=Object(f["a"])(kt,jt,yt,!1,null,null,null),wt=Ct.exports,$t=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},Tt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mt-4"},[a("table",{staticClass:"v-datatable v-table theme--light",attrs:{id:"active-projects"}},[a("thead",[a("tr",[a("th",[t._v("ID")]),a("th",[t._v("PRY")]),a("th",[t._v("Nombre")]),a("th",[t._v("Responsable")]),a("th",[t._v("Cliente")]),a("th",[t._v("Presupuesto")]),a("th",[t._v("Gastado")]),a("th",[t._v("Acciones")])])]),a("tbody")])])}];window.$=window.jQuery=a("1157");a("1653");var It={mounted:function(){var t=this;$(function(){window.active_projects_table=$("#active-projects").DataTable({processing:!0,serverSide:!0,responsive:!0,orderCellsTop:!0,ordering:!0,aLengthMenu:[[10,25,50,100,200,-1],[10,25,50,100,200,"All"]],ajax:{url:"http://localhost:8081/api/v1/projects/actives/datatable",beforeSend:function(e){e.setRequestHeader("Authorization",localStorage.getItem("token")),t.$store.dispatch("updateStateLoadingResource",!0)},error:function(e,a,s){401===e.status&&t.logoutUser(!0)}},initComplete:function(e,a){t.$store.dispatch("updateStateLoadingResource",!1)},drawCallback:function(){for(var t=document.querySelectorAll(".paginate_button"),e=0;e<t.length;e++)t[e].classList+=" v-btn theme--light blue text--white"},columnDefs:[{targets:7,render:function(t,e,a){return'<button data-id="'.concat(t,'" class="open_project v-btn v-btn--flat v-btn--icon theme--light blue--text"> <i class="fa fa-edit"></i> </button>')}}],order:[[0,"desc"]]})}),$("#active-projects tbody").on("click",".open_project",function(e){var a=$(this).data("id");a&&t.onShowProject(a)})},methods:{onShowProject:function(t){this.$router.push({name:"edit-project",params:{id:t}})},logoutUser:function(t){this.$store.dispatch("auth/logoutUser",t)}}},Pt=It,Ut=Object(f["a"])(Pt,$t,Tt,!1,null,null,null),St=Ut.exports,At=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},Ot=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mt-4"},[a("table",{staticClass:"v-datatable v-table theme--light",attrs:{id:"finished-projects"}},[a("thead",[a("tr",[a("th",[t._v("ID")]),a("th",[t._v("PRY")]),a("th",[t._v("Nombre")]),a("th",[t._v("Responsable")]),a("th",[t._v("Cliente")]),a("th",[t._v("Presupuesto")]),a("th",[t._v("Gastado")]),a("th",[t._v("Acciones")])])]),a("tbody")])])}];window.$=window.jQuery=a("1157");a("1653");var Dt={mounted:function(){var t=this;$(function(){window.finished_projects_table=$("#finished-projects").DataTable({processing:!0,serverSide:!0,responsive:!0,orderCellsTop:!0,ordering:!0,aLengthMenu:[[10,25,50,100,200,-1],[10,25,50,100,200,"All"]],ajax:{url:"http://localhost:8081/api/v1/projects/finished/datatable",beforeSend:function(e){e.setRequestHeader("Authorization",localStorage.getItem("token")),t.$store.dispatch("updateStateLoadingResource",!0)},error:function(e,a,s){401===e.status&&t.logoutUser(!0)}},initComplete:function(e,a){t.$store.dispatch("updateStateLoadingResource",!1)},drawCallback:function(){for(var t=document.querySelectorAll(".paginate_button"),e=0;e<t.length;e++)t[e].classList+=" v-btn theme--light blue text--white"},columnDefs:[{targets:7,render:function(t,e,a){return'<button data-id="'.concat(t,'" class="open_project v-btn v-btn--flat v-btn--icon theme--light blue--text"> <i class="fa fa-edit"></i> </button>')}}],order:[[0,"desc"]]})}),$("#finished-projects tbody").on("click",".open_project",function(e){var a=$(this).data("id");a&&t.onShowProject(a)})},methods:{onShowProject:function(t){this.$router.push({name:"edit-project",params:{id:t}})},logoutUser:function(t){this.$store.dispatch("auth/logoutUser",t)}}},Et=Dt,Ft=Object(f["a"])(Et,At,Ot,!1,null,null,null),Mt=Ft.exports,Rt={components:{"v-active-projects":St,"v-budget-projects":wt,"v-sales-projects":xt,"v-finished-projects":Mt},data:function(){return{tabs:["Activos","Presupuestos","Preventa","Terminados"]}}},zt=Rt,Lt=a("71a3"),Yt=a("c671"),Nt=a("fe57"),Ht=Object(f["a"])(zt,mt,pt,!1,null,null,null),qt=Ht.exports;b()(Ht,{VBtn:_["a"],VCard:at["a"],VCardText:st["b"],VIcon:P["a"],VTab:Lt["a"],VTabItem:Yt["a"],VTabs:Nt["a"]});var Gt={mounted:function(){},components:{"v-projects-tabs":qt}},Bt=Gt,Qt=Object(f["a"])(Bt,ut,vt,!1,null,null,null),Jt=Qt.exports;b()(Qt,{VFlex:N["a"],VLayout:H["a"]});a("7f7f");var Kt=a("f499"),Wt=a.n(Kt),Xt=a("bc3a"),Zt=a.n(Xt),te=a("04e1"),ee=a.n(te),ae={namespaced:!0,state:{user:JSON.parse(localStorage.getItem("user")),token:localStorage.getItem("token")},mutations:{setToken:function(t,e){t.token=e,localStorage.setItem("token",e)},setUser:function(t,e){t.user=e,localStorage.setItem("user",Wt()(e))},logout:function(t){t.user=null,t.token=null,localStorage.clear(),_r.push("/")}},actions:{loginUser:function(t,e){var a=t.dispatch,s=t.commit;t.rootGetters;Zt.a.post("/auth/login",e).then(function(t){t.data.success?(s("setToken",t.data.token),s("setUser",t.data.user),_r.push("/projects")):a("syncMessage",t.data.message,{root:!0})}).catch(function(t){a("syncMessage","Ha surgido un error, vuelve a intentarlo.",{root:!0})})},logoutUser:function(t){var e=t.dispatch,a=t.commit,s=arguments.length>1&&void 0!==arguments[1]&&arguments[1];s&&e("syncMessage","Es necesario que inicies sesión.",{root:!0}),a("logout")}},getters:{getUser:function(t){return t.user},getToken:function(t){return t.token},isAuthenticated:function(t){return t.token&&t.user},getRolesCurrentUser:function(t){try{return ee()(t.token).roles}catch(e){return[]}},getRolesNamesCurrentUser:function(t){try{return ee()(t.token).roles.map(function(t){return t.name})}catch(e){return[]}}}},se=(a("20d6"),{namespaced:!0,state:{areas:[]},mutations:{setAreas:function(t,e){t.areas=e},addArea:function(t,e){t.areas=[e].concat(Object(Q["a"])(t.areas))},updateArea:function(t,e){var a=t.areas.findIndex(function(t){return t.id==e.id});areaId&&(t.areas[a]=e)},removeArea:function(t,e){t.areas=t.areas.filter(function(t){return t.id!=e.id})}},actions:{loadAreas:function(t){var e=t.commit;t.rootGetters;Zt.a.get("/areas").then(function(t){e("setAreas",t.data.data)})},createArea:function(t,e){var a=t.dispatch,s=t.commit;t.rootGetters;Zt.a.post("/areas",e).then(function(t){s("addArea",t.data.data),a("syncMessage","Área creada con éxito.",{root:!0})})},updateArea:function(t,e){var a=t.dispatch;t.commit,t.rootGetters;Zt.a.put("/areas/".concat(e.id),e).then(function(t){a("syncMessage",t.data.message,{root:!0})})},removeArea:function(t,e){var a=t.dispatch,s=t.commit;t.rootGetters;Zt.a.delete("/area/".concat(e.id)).then(function(t){t.data.success&&s("removeArea",e),a("syncMessage",t.data.message,{root:!0})})}},getters:{getAreas:function(t){return t.areas}}}),ie={namespaced:!0,state:{users:[],editingUser:new Z},mutations:{setUsers:function(t,e){t.users=e},setNewUser:function(t,e){t.users=[e].concat(Object(Q["a"])(t.users))},setNewStatusUser:function(t,e){var a=t.users.findIndex(function(t){return t.id==e.id});a&&(t.users[a]=e)},setEditingUser:function(t,e){t.editingUser=e},setUpdatedUser:function(t,e){var a=t.users.findIndex(function(t){return t.id==e.id});a&&(t.users[a]=e)}},actions:{loadUsers:function(t){var e=t.commit;Zt.a.get("/users").then(function(t){e("setUsers",t.data.data)})},addUser:function(t,e){var a=t.commit;Zt.a.post("/users",e).then(function(t){t.data.success&&a("setNewUser",t.data.data)})},loadUser:function(t,e){var a=t.commit;Zt.a.get("/users/".concat(e)).then(function(t){t.data.success&&a("setEditingUser",t.data.data)})},changeStatusUser:function(t,e){var a=t.dispatch;Zt.a.put("/users/".concat(e.id,"/changestatus"),e).then(function(t){t.data.success&&a("users/loadUsers",null,{root:!0})})},updateUserInfo:function(t,e){t.comit;var a=t.getters,s={name:a.getEditingUser.name,lastname:a.getEditingUser.lastname,area_id:a.getEditingUser.area_id,department_id:a.getEditingUser.department_id,position_id:a.getEditingUser.position_id};e&&(s.password=e),Zt.a.put("/users/".concat(a.getEditingUser.id),s).then(function(t){t.data.success&&commit("setUpdatedUser",t.data.data)})}},getters:{getUsers:function(t){return t.users},getActiveUsers:function(t){return t.users.filter(function(t){return t.active}).map(function(t){return{id:t.id,name:t.name,lastname:t.lastname,email:t.email,active:t.active,area:t.area?t.area.title:"N/A",department:t.department?t.department.title:"N/A",position:t.position?t.position.title:"N/A"}})},getInactiveUsers:function(t){return t.users.filter(function(t){return!t.active}).map(function(t){return{id:t.id,name:t.name,lastname:t.lastname,email:t.email,active:t.active,area:t.area?t.area.title:"N/A",department:t.department?t.department.title:"N/A",position:t.position?t.position.title:"N/A"}})},getEditingUser:function(t){return t.editingUser}}},re={namespaced:!0,state:{departments:[]},mutations:{setDepartments:function(t,e){t.departments=e},addDepartment:function(t,e){t.departments=[e].concat(Object(Q["a"])(t.departments))},updateDepartment:function(t,e){var a=t.departments.findIndex(function(t){return t.id==e.id});a&&(t.departments[a]=e)},removeDepartment:function(t,e){t.departments=t.departments.filter(function(t){return t.id!=e.id})}},actions:{loadDepartments:function(t){var e=t.commit;t.rootGetters;Zt.a.get("/departments").then(function(t){e("setDepartments",t.data.data)})},createDepartment:function(t,e){var a=t.dispatch,s=t.commit;t.rootGetters;Zt.a.post("/departments",e).then(function(t){t.data.success&&s("addDepartment",t.data.data),a("syncMessage",t.data.message,{root:!0})})},updateDepartment:function(t,e){var a=t.dispatch;t.commit,t.rootGetters;Zt.a.put("/departments/".concat(e.id),e).then(function(t){a("syncMessage",t.data.message,{root:!0})})}},getters:{getDepartments:function(t){return t.departments}}},ne={namespaced:!0,state:{positions:[]},mutations:{setPositions:function(t,e){t.positions=e},addPosition:function(t,e){t.positions=[e].concat(Object(Q["a"])(t.positions))},updatePosition:function(t,e){var a=t.positions.findIndex(function(t){return t.id==e.id});a&&(t.positions[a]=e)},removePepartment:function(t,e){t.positions=t.positions.filter(function(t){return t.id!=e.id})}},actions:{loadPositions:function(t){var e=t.commit;t.rootGetters;Zt.a.get("/positions").then(function(t){e("setPositions",t.data.data)})},createPosition:function(t,e){var a=t.dispatch,s=t.commit;t.rootGetters;Zt.a.post("/positions",e).then(function(t){t.data.success&&s("addPosition",t.data.data),a("syncMessage",t.data.message,{root:!0})})},updatePosition:function(t,e){var a=t.dispatch;t.commit,t.rootGetters;Zt.a.put("/positions/".concat(e.id),e).then(function(t){a("syncMessage",t.data.message,{root:!0})})}},getters:{getPositions:function(t){return t.positions}}},oe=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",n=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"",c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"",l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:"",d=arguments.length>9&&void 0!==arguments[9]?arguments[9]:"",u=arguments.length>10&&void 0!==arguments[10]?arguments[10]:[],v=arguments.length>11&&void 0!==arguments[11]?arguments[11]:"",m=arguments.length>12&&void 0!==arguments[12]?arguments[12]:[],p=arguments.length>13&&void 0!==arguments[13]?arguments[13]:"",f=arguments.length>14&&void 0!==arguments[14]?arguments[14]:"";Object(X["a"])(this,t),this.id=e,this.name=a,this.code=s,this.client=i,this.user_id=r,this.type_id=n,this.status_id=o,this.budget=c,this.money_spent=l,this.money_refunded=d,this.comments=u,this.extra_comments=v,this.users=m,this.created_at=p,this.updated_at=f},ce={namespaced:!0,state:{types:[],statuses:[],editingProject:new oe,projectsUser:[]},mutations:{setTypes:function(t,e){t.types=e},setProjectsUser:function(t,e){t.projectsUser=e},setStatuses:function(t,e){t.statuses=e},setProject:function(t,e){t.editingProject=e},setANewUser:function(t,e){t.editingProject.users=[e].concat(Object(Q["a"])(t.editingProject.users))},removeUser:function(t,e){t.editingProject.users=t.editingProject.users.filter(function(t){return t.id!=e.id})},modifyUserInProject:function(t,e){var a=t.editingProject.users.findIndex(function(t){return t.id==e.id});a&&(t.editingProject.users[a]=e)}},actions:{loadTypes:function(t){var e=t.commit;t.rootGetters;Zt.a.get("/projects/types").then(function(t){e("setTypes",t.data.data)})},loadStatuses:function(t){var e=t.commit,a=t.rootGetters;Zt.a.get("".concat(a.api,"/status/projects")).then(function(t){e("setStatuses",t.data.data)})},addProject:function(t,e){var a=t.dispatch,s=(t.commit,t.rootGetters);Zt.a.post("".concat(s.api,"/projects"),e).then(function(t){a("syncMessage",t.data.message,{root:!0})})},loadProjectsUser:function(t){var e=t.commit,a=t.rootGetters;Zt.a.get("".concat(a.api,"/projects/byuser")).then(function(t){e("setProjectsUser",t.data.data)})},getProject:function(t,e){t.dispatch;var a=t.commit;t.rootGetters;Zt.a.get("/projects/".concat(e)).then(function(t){a("setProject",t.data.data)})},updateProject:function(t,e){var a=t.dispatch;t.commit,t.rootGetters;Zt.a.put("/projects/".concat(e.id),e).then(function(t){a("syncMessage",t.data.message,{root:!0})})},addUser:function(t,e){var a=t.dispatch,s=t.commit;t.rootGetters;Zt.a.post("/projects/adduser/".concat(e.project_id),{user_id:e.id}).then(function(t){t.data.success&&s("setANewUser",t.data),a("syncMessage",t.message,{root:!0})})},removeUser:function(t,e){var a=t.commit,s=t.dispatch,i=t.rootGetters;Zt.a.post("".concat(i.api,"/projects/removeuser/").concat(e.project_id),{user_id:e.id}).then(function(t){t.data.success&&a("removeUser",e),s("syncMessage",t.data.message,{root:!0})})},changePermissions:function(t,e){var a=t.dispatch,s=t.commit,i=t.rootGetters,r={id:e.id,name:e.name,lastname:e.lastname,email:e.email},n=Object(u["a"])({},r,{project_user:{can_add_viatics:e.can_add_viatics,can_add_hours:e.can_add_hours}}),o=Object(u["a"])({},r,{project_user:{can_add_viatics:e.is_viatic?!e.can_add_viatics:e.can_add_viatics,can_add_hours:e.is_viatic?e.can_add_hours:!e.can_add_hours}});Zt.a.put("".concat(i.api,"/projects/").concat(e.project_id,"/permissions"),{permission:e.permission,user_id:e.id,is_viatic:e.is_viatic}).then(function(t){t.data.success?s("modifyUserInProject",n):s("modifyUserInProject",o),a("syncMessage",t.data.message,{root:!0})})}},getters:{getTypes:function(t){return t.types},getStatuses:function(t){return t.statuses},getCurrentProject:function(t){return t.editingProject},getProjectsAuthenticatedUser:function(t){return t.projectsUser}}},le=a("e814"),de=a.n(le),ue={namespaced:!0,state:{currentHours:[],allHours:[]},mutations:{setCurrentHours:function(t,e){t.currentHours=e},addNewHour:function(t,e){t.currentHours=[e].concat(Object(Q["a"])(t.currentHours)),t.allHours=[e].concat(Object(Q["a"])(t.allHours))},setAllHours:function(t,e){t.allHours=e}},actions:{loadCurrentHours:function(t){var e=t.commit;t.rootGetters;Zt.a.get("/hours/today").then(function(t){e("setCurrentHours",t.data.data)})},loadHistoryHours:function(t){var e=t.commit;t.rootGetters;Zt.a.get("/hours/history").then(function(t){e("setAllHours",t.data.data)})},addHour:function(t,e){var a=t.dispatch,s=t.commit,i=t.rootGetters,r=i["auth/getUser"];e.user_id=r.id,e.reg_user_id=null,e.hours=de()(e.hours),Zt.a.post("".concat(i.api,"/hours"),e).then(function(t){t.data.success&&s("addNewHour",t.data.data),a("syncMessage",t.data.message,{root:!0})})}},getters:{getHoursOftheDay:function(t){return t.currentHours},getHistoryHours:function(t){return t.allHours}}},ve=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",n=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"",c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"",l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:"",d=arguments.length>9&&void 0!==arguments[9]?arguments[9]:"",u=arguments.length>10&&void 0!==arguments[10]?arguments[10]:"",v=arguments.length>11&&void 0!==arguments[11]?arguments[11]:"",m=arguments.length>12&&void 0!==arguments[12]?arguments[12]:"",p=arguments.length>13&&void 0!==arguments[13]?arguments[13]:"",f=arguments.length>14&&void 0!==arguments[14]?arguments[14]:"",h=arguments.length>15&&void 0!==arguments[15]?arguments[15]:"",b=arguments.length>16&&void 0!==arguments[16]?arguments[16]:[];Object(X["a"])(this,t),this.id=e,this.arrive=l,this.origin=n,this.destiny=o,this.user_id=a,this.comments=p,this.departure=c,this.status_id=r,this.created_at=f,this.project_id=s,this.updated_at=h,this.allcomments=b,this.auth_user_id=i,this.money_checked=v,this.money_refunded=m,this.money_requested=d,this.money_deposited=u},me={namespaced:!0,state:{viaticsUser:[],pendingViatics:[],viaticsInProcess:[],editingViatic:new ve,viaticFoundIt:new ve},mutations:{setViaticsUser:function(t,e){t.viaticsUser=e},setPendingViatics:function(t,e){t.pendingViatics=e},setViaticsInProcess:function(t,e){t.viaticsInProcess=e},addViaticCurrentUser:function(t,e){t.viaticsUser=[e].concat(Object(Q["a"])(t.viaticsUser))},setViaticFoundIt:function(t,e){t.viaticFoundIt=e},setEditingViatic:function(t,e){t.editingViatic=e}},actions:{loadViaticsUser:function(t){var e=t.commit;Zt.a.get("/viatics/byuser").then(function(t){e("setViaticsUser",t.data.data)})},loadPendingViatics:function(t){var e=t.commit;Zt.a.get("/viatics/authorize").then(function(t){e("setPendingViatics",t.data.data)})},loadViaticsInProcess:function(t){var e=t.commit;Zt.a.get("/viatics/inprocess").then(function(t){e("setViaticsInProcess",t.data.data)})},addViatic:function(t,e){var a=t.dispatch,s=t.commit;Zt.a.post("/viatics",e).then(function(t){s("addViaticCurrentUser",t.data.data),a("syncMessage",t.data.message,{root:!0})})},loadViatic:function(t,e){var a=t.dispatch,s=t.commit;a("updateStateLoadingResource",!0,{root:!0}),Zt.a.get("/viatics/".concat(e.id)).then(function(t){t.data.success&&(e.toEdit?s("setEditingViatic",t.data.data):s("setViaticFoundIt",t.data.data))}).finally(function(){a("updateStateLoadingResource",!1,{root:!0})})}},getters:{getViaticsUser:function(t){return t.viaticsUser},gePendingViatics:function(t){return t.pendingViatics},getViaticsInProcess:function(t){return t.viaticsInProcess},getEditingViatic:function(t){return t.editingViatic},getViaticFoundIt:function(t){return t.viaticFoundIt}}};r["a"].use(v["a"]);var pe=new v["a"].Store({modules:{auth:ae,areas:se,users:ie,departments:re,positions:ne,projects:ce,hours:ue,viatics:me},state:{api:"http://localhost:8081/api/v1",message:"",loadingResource:!1},mutations:{setMessage:function(t,e){t.message=e},setStateLoadingResource:function(t,e){t.loadingResource=e}},actions:{syncMessage:function(t,e){var a=t.commit;a("setMessage",e)},updateStateLoadingResource:function(t,e){var a=t.commit;a("setStateLoadingResource",e)}},getters:{api:function(t){return t.api},message:function(t){return t.message},loadingResource:function(t){return t.loadingResource}}}),fe=function(t,e,a){var s=pe.getters["auth/getToken"],i=pe.getters["auth/getUser"];s&&i?a():a("/")},he=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-layout",{attrs:{row:""}},[a("v-card",[a("v-card-title",[a("h3",[t._v("Registrar projecto")])]),a("v-card-text",[a("v-flex",{attrs:{xs12:"",sm10:"","offset-sm1":""}},[a("v-form",[a("v-container",[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[a("v-text-field",{attrs:{label:"PRY"},model:{value:t.project.code,callback:function(e){t.$set(t.project,"code",e)},expression:"project.code"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[a("v-text-field",{attrs:{label:"Nombre"},model:{value:t.project.name,callback:function(e){t.$set(t.project,"name",e)},expression:"project.name"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[a("v-text-field",{attrs:{label:"Cliente"},model:{value:t.project.client,callback:function(e){t.$set(t.project,"client",e)},expression:"project.client"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[a("v-text-field",{attrs:{label:"Presupuesto"},model:{value:t.project.budget,callback:function(e){t.$set(t.project,"budget",e)},expression:"project.budget"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[a("v-select",{attrs:{items:t.posibleResponsables,"item-value":"id","item-text":"text",label:"Responsable"},model:{value:t.project.user_id,callback:function(e){t.$set(t.project,"user_id",e)},expression:"project.user_id"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[a("v-select",{attrs:{items:t.itemTypes,"item-value":"id","item-text":"text",label:"Tipo de proyecto"},model:{value:t.project.type_id,callback:function(e){t.$set(t.project,"type_id",e)},expression:"project.type_id"}})],1),a("v-flex",{attrs:{xs12:""}},[a("v-textarea",{attrs:{name:"comments",label:"Comentarios",hint:"comentarios del proyecto"},model:{value:t.project.extra_comments,callback:function(e){t.$set(t.project,"extra_comments",e)},expression:"project.extra_comments"}})],1)],1)],1),a("v-btn",{staticClass:"blue white--text",attrs:{disabled:t.invalidForm},on:{click:t.onSubmit}},[t._v("\n                        Registrar\n                        ")]),a("v-btn",{staticClass:"red white--text",attrs:{router:"",to:"/projects"}},[t._v("\n                        Cancelar\n                        ")])],1)],1)],1)],1),a("v-btn",{attrs:{absolute:"",dark:"",fab:"",top:"",router:"",to:"/projects",right:"",color:"cyan"}},[a("v-icon",[t._v("arrow_back")])],1)],1)],1)},be=[],_e={data:function(){return{project:new oe}},mounted:function(){this.$store.dispatch("users/loadUsers"),this.$store.dispatch("projects/loadTypes")},methods:{onSubmit:function(){this.$store.dispatch("projects/addProject",this.project)}},computed:Object(u["a"])({},Object(v["b"])({users:"users/getUsers",types:"projects/getTypes"}),{posibleResponsables:function(){return this.users.map(function(t){return{id:t.id,text:"".concat(t.name," ").concat(t.lastname)}})},itemTypes:function(){return this.types.map(function(t){return{id:t.id,text:t.title}})},invalidForm:function(){return""==this.project.code||""==this.project.name||""==this.project.client||""==this.project.budget||""==this.project.type_id||""==this.project.user_id}})},ge=_e,xe=a("b56d"),je=a("a844"),ye=Object(f["a"])(ge,he,be,!1,null,null,null),Ve=ye.exports;b()(ye,{VBtn:_["a"],VCard:at["a"],VCardText:st["b"],VCardTitle:it["a"],VContainer:L["a"],VFlex:N["a"],VForm:rt["a"],VIcon:P["a"],VLayout:H["a"],VSelect:xe["a"],VTextField:ct["a"],VTextarea:je["a"]});var ke=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-flex",{attrs:{xs12:""}},[a("v-edit-project-tabs"),a("v-btn",{attrs:{absolute:"",dark:"",fab:"",top:"",right:"",router:"",to:"/projects",color:"red"}},[a("v-icon",{attrs:{dark:""}},[t._v("arrow_back")])],1)],1)},Ce=[],we=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-flex",{attrs:{xs12:""}},[a("v-tabs",{attrs:{"fixed-tabs":""}},[t._l(t.tabs,function(e){return a("v-tab",{key:e,attrs:{ripple:""}},[t._v("\n        "+t._s(e)+"\n\n    ")])}),a("v-tab-item",[a("v-card",{attrs:{flat:""}},[a("v-card-text",[a("v-edit-form")],1)],1)],1),a("v-tab-item",[a("v-card",{attrs:{flat:""}},[a("v-card-text",[a("v-possible-users")],1)],1)],1),a("v-tab-item",[a("v-card",{attrs:{flat:""}},[a("v-card-text",[a("v-included-users")],1)],1)],1),a("v-tab-item",[a("v-card",{attrs:{flat:""}},[a("v-card-text",[a("v-comments")],1)],1)],1)],2)],1)},$e=[],Te=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-layout",{attrs:{row:""}},[a("v-card",[a("v-card-title",[a("h3",[t._v("Editar datos de proyecto")])]),a("v-card-text",[a("v-flex",{attrs:{xs12:"",sm10:"","offset-sm1":""}},[a("v-form",[a("v-container",[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[a("v-text-field",{attrs:{label:"PRY"},model:{value:t.project.code,callback:function(e){t.$set(t.project,"code",e)},expression:"project.code"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[a("v-text-field",{attrs:{label:"Nombre"},model:{value:t.project.name,callback:function(e){t.$set(t.project,"name",e)},expression:"project.name"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[a("v-text-field",{attrs:{label:"Cliente"},model:{value:t.project.client,callback:function(e){t.$set(t.project,"client",e)},expression:"project.client"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md3:""}},[a("v-text-field",{attrs:{label:"Presupuesto"},model:{value:t.project.budget,callback:function(e){t.$set(t.project,"budget",e)},expression:"project.budget"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md3:""}},[a("v-select",{attrs:{items:t.posibleResponsables,"item-value":"id","item-text":"text",label:"Responsable"},model:{value:t.project.user_id,callback:function(e){t.$set(t.project,"user_id",e)},expression:"project.user_id"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md3:""}},[a("v-select",{attrs:{items:t.itemTypes,"item-value":"id","item-text":"text",label:"Tipo de proyecto"},model:{value:t.project.type_id,callback:function(e){t.$set(t.project,"type_id",e)},expression:"project.type_id"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md3:""}},[a("v-select",{attrs:{items:t.itemStatuses,"item-value":"id","item-text":"text",label:"Estatus del proyecto"},model:{value:t.project.status_id,callback:function(e){t.$set(t.project,"status_id",e)},expression:"project.status_id"}})],1),a("v-flex",{attrs:{xs12:""}},[a("v-textarea",{attrs:{name:"comments",label:"Comentarios",hint:"comentarios del proyecto"},model:{value:t.project.extra_comments,callback:function(e){t.$set(t.project,"extra_comments",e)},expression:"project.extra_comments"}})],1)],1)],1),a("v-btn",{staticClass:"blue white--text",attrs:{disabled:t.invalidForm},on:{click:t.onSubmit}},[t._v("\n                        Actualizar\n                        ")])],1)],1)],1)],1)],1)],1)},Ie=[],Pe={data:function(){return{}},mounted:function(){},methods:{onSubmit:function(){this.$store.dispatch("projects/updateProject",this.project)}},computed:Object(u["a"])({},Object(v["b"])({users:"users/getUsers",types:"projects/getTypes",statuses:"projects/getStatuses",project:"projects/getCurrentProject"}),{posibleResponsables:function(){return this.users.map(function(t){return{id:t.id,text:"".concat(t.name," ").concat(t.lastname)}})},itemTypes:function(){return this.types.map(function(t){return{id:t.id,text:t.title}})},itemStatuses:function(){return this.statuses.map(function(t){return{id:t.id,text:t.title}})},invalidForm:function(){return""==this.project.code||""==this.project.name||""==this.project.client||""==this.project.budget||""==this.project.type_id||""==this.project.user_id}})},Ue=Pe,Se=Object(f["a"])(Ue,Te,Ie,!1,null,null,null),Ae=Se.exports;b()(Se,{VBtn:_["a"],VCard:at["a"],VCardText:st["b"],VCardTitle:it["a"],VContainer:L["a"],VFlex:N["a"],VForm:rt["a"],VLayout:H["a"],VSelect:xe["a"],VTextField:ct["a"],VTextarea:je["a"]});var Oe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-layout",[a("v-flex",{attrs:{xs12:"",sm8:"","offset-sm2":""}},[a("v-timeline",{attrs:{"align-top":""}},t._l(t.orderedComments,function(e,s){return a("v-timeline-item",{key:s,attrs:{color:"blue",icon:"date_range","fill-dot":""}},[a("v-card",{attrs:{color:"blue",dark:""}},[a("v-card-title",{staticClass:"title"},[t._v(t._s(e.fullname)+" - "+t._s(e.date))]),a("v-card-text",{staticClass:"white text--primary"},[a("p",[t._v(t._s(e.comment))])])],1)],1)}),1)],1)],1)],1)},De=[],Ee={methods:{formatDate:function(t){var e=new Date(t),a=""+(e.getMonth()+1),s=""+e.getDate(),i=e.getFullYear();return a.length<2&&(a="0"+a),s.length<2&&(s="0"+s),[i,a,s].join("-")}},computed:Object(u["a"])({},Object(v["b"])({project:"projects/getCurrentProject"}),{orderedComments:function(){var t=this;return this.project.comments.map(function(e){return{comment:e.comment,fullname:"".concat(e.user.name," ").concat(e.user.lastname),date:t.formatDate(e.created_at)}})}})},Fe=Ee,Me=a("8414"),Re=a("1e06"),ze=Object(f["a"])(Fe,Oe,De,!1,null,null,null),Le=ze.exports;b()(ze,{VCard:at["a"],VCardText:st["b"],VCardTitle:it["a"],VContainer:L["a"],VFlex:N["a"],VLayout:H["a"],VTimeline:Me["a"],VTimelineItem:Re["a"]});var Ye=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",[a("v-card-title",[a("h3",[t._v("Usuarios en el proyecto")]),a("v-spacer"),a("v-text-field",{attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),a("v-card-text",[a("v-data-table",{staticClass:"elevation-3",attrs:{headers:t.headers,items:t.includedUsers,search:t.search,pagination:t.pagination},on:{"update:pagination":function(e){t.pagination=e}},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",[t._v(t._s(e.item.name))]),a("td",{staticClass:"text-xs-lef"},[t._v(t._s(e.item.lastname))]),a("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.email))]),a("td",{staticClass:"text-xs-left"},[a("v-checkbox",{on:{change:function(a){t.modifyPermissions(a,e.item,!0)}},model:{value:e.item.can_add_viatics,callback:function(a){t.$set(e.item,"can_add_viatics",a)},expression:"props.item.can_add_viatics"}})],1),a("td",{staticClass:"text-xs-left"},[a("v-checkbox",{on:{change:function(a){t.modifyPermissions(a,e.item,!1)}},model:{value:e.item.can_add_hours,callback:function(a){t.$set(e.item,"can_add_hours",a)},expression:"props.item.can_add_hours"}})],1),a("td",[a("v-btn",{attrs:{color:"red white--text"},on:{click:function(a){t.onRemoveUser(e.item)}}},[a("i",{staticClass:"fa fa-trash"})])],1)]}}])}),a("div",{staticClass:"text-xs-center pt-2"},[a("v-pagination",{attrs:{length:t.pages},model:{value:t.pagination.page,callback:function(e){t.$set(t.pagination,"page",e)},expression:"pagination.page"}})],1)],1)],1)},Ne=[],He={data:function(){return{search:"",headers:[{text:"Nombre",align:"left",value:"name"},{text:"Apellidos",align:"left",value:"lastname"},{text:"Email",align:"left",value:"email"},{text:"Regitrar viáticos",value:"can_add_viatics",sortable:!1},{text:"Regitrar horas",value:"can_add_hours",sortable:!1},{text:"Eliminar del proyecto",value:"name",sortable:!1}],pagination:{}}},methods:{onRemoveUser:function(t){this.$store.dispatch("projects/removeUser",Object(u["a"])({},t,{project_id:this.project.id}))},modifyPermissions:function(t,e,a){this.$store.dispatch("projects/changePermissions",Object(u["a"])({},e,{is_viatic:a,permission:t,project_id:this.project.id}))}},computed:Object(u["a"])({},Object(v["b"])({project:"projects/getCurrentProject"}),{pages:function(){return null==this.pagination.rowsPerPage||null==this.pagination.totalItems?0:Math.ceil(this.pagination.totalItems/this.pagination.rowsPerPage)},includedUsers:function(){return this.project.users.map(function(t){return{id:t.id,name:t.name,lastname:t.lastname,email:t.email,can_add_viatics:t.project_user.can_add_viatics,can_add_hours:t.project_user.can_add_hours}})}})},qe=He,Ge=a("ac7c"),Be=a("8fea"),Qe=a("891e"),Je=Object(f["a"])(qe,Ye,Ne,!1,null,null,null),Ke=Je.exports;b()(Je,{VBtn:_["a"],VCard:at["a"],VCardText:st["b"],VCardTitle:it["a"],VCheckbox:Ge["a"],VDataTable:Be["a"],VPagination:Qe["a"],VSpacer:g["a"],VTextField:ct["a"]});var We=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",[a("v-card-title",[a("h3",[t._v("Usuarios")]),a("v-spacer"),a("v-text-field",{attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),a("v-card-text",[a("v-data-table",{staticClass:"elevation-3",attrs:{headers:t.headers,items:t.posibleUsers,search:t.search,pagination:t.pagination},on:{"update:pagination":function(e){t.pagination=e}},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",[t._v(t._s(e.item.name))]),a("td",{staticClass:"text-xs-lef"},[t._v(t._s(e.item.name))]),a("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.lastname))]),a("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.email))]),a("td",[a("v-btn",{attrs:{color:"blue white--text"},on:{click:function(a){t.onAddUser(e.item)}}},[a("i",{staticClass:"fa fa-plus"})])],1)]}}])}),a("div",{staticClass:"text-xs-center pt-2"},[a("v-pagination",{attrs:{length:t.pages},model:{value:t.pagination.page,callback:function(e){t.$set(t.pagination,"page",e)},expression:"pagination.page"}})],1)],1)],1)},Xe=[],Ze=(a("2fdb"),{data:function(){return{search:"",headers:[{text:"Nombre",align:"left",value:"name"},{text:"Apellidos",align:"left",value:"lastname"},{text:"Email",align:"left",value:"email"},{text:"Agregar a proyecto",value:"id",sortable:!1}],pagination:{}}},methods:{onAddUser:function(t){this.$store.dispatch("projects/addUser",Object(u["a"])({},t,{project_id:this.project.id}))}},computed:Object(u["a"])({},Object(v["b"])({project:"projects/getCurrentProject",users:"users/getUsers"}),{includedUsersId:function(){return this.project.users.map(function(t){return t.id})},pages:function(){return null==this.pagination.rowsPerPage||null==this.pagination.totalItems?0:Math.ceil(this.pagination.totalItems/this.pagination.rowsPerPage)},posibleUsers:function(){var t=this;return this.users.filter(function(e){return!t.includedUsersId.includes(e.id)})}})}),ta=Ze,ea=Object(f["a"])(ta,We,Xe,!1,null,null,null),aa=ea.exports;b()(ea,{VBtn:_["a"],VCard:at["a"],VCardText:st["b"],VCardTitle:it["a"],VDataTable:Be["a"],VPagination:Qe["a"],VSpacer:g["a"],VTextField:ct["a"]});var sa={components:{"v-edit-form":Ae,"v-included-users":Ke,"v-possible-users":aa,"v-comments":Le},data:function(){return{tabs:["Editar","Agregar usuarios","Permisos","Comentarios"]}}},ia=sa,ra=Object(f["a"])(ia,we,$e,!1,null,null,null),na=ra.exports;b()(ra,{VCard:at["a"],VCardText:st["b"],VFlex:N["a"],VTab:Lt["a"],VTabItem:Yt["a"],VTabs:Nt["a"]});var oa={props:["id"],components:{"v-edit-project-tabs":na},mounted:function(){this.getProject(),this.$store.dispatch("users/loadUsers"),this.$store.dispatch("projects/loadTypes"),this.$store.dispatch("projects/loadStatuses")},methods:{getProject:function(){this.$store.dispatch("projects/getProject",this.id)}},computed:{}},ca=oa,la=Object(f["a"])(ca,ke,Ce,!1,null,null,null),da=la.exports;b()(la,{VBtn:_["a"],VFlex:N["a"],VIcon:P["a"]});var ua=[{path:"/projects",name:"projects-view",component:Jt,beforeEnter:fe},{path:"/projects/add",name:"add-project",component:Ve,beforeEnter:fe},{path:"/projects/edit/:id",name:"edit-project",component:da,beforeEnter:fe,props:!0}],va=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-flex",{attrs:{xs12:""}},[a("v-company-tabs")],1)},ma=[],pa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-flex",{attrs:{xs12:""}},[a("v-tabs",{attrs:{"fixed-tabs":""}},[t._l(t.tabs,function(e){return a("v-tab",{key:e,attrs:{ripple:""}},[t._v("\n        "+t._s(e)+"\n\n    ")])}),a("v-tab-item",[a("v-card",{attrs:{flat:""}},[a("v-card-text",[a("v-areas")],1)],1)],1),a("v-tab-item",[a("v-card",{attrs:{flat:""}},[a("v-card-text",[a("v-departments")],1)],1)],1),a("v-tab-item",[a("v-card",{attrs:{flat:""}},[a("v-card-text",[a("v-positions")],1)],1)],1)],2)],1)},fa=[],ha=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[t._v("Áreas")]),a("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-btn",{staticClass:"mb-2",attrs:{slot:"activator",color:"primary",dark:""},on:{click:t.showForm},slot:"activator"},[t._v("Agregar área")]),a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{attrs:{label:"Name"},model:{value:t.editedItem.title,callback:function(e){t.$set(t.editedItem,"title",e)},expression:"editedItem.title"}})],1),a("v-flex",{attrs:{xs12:""}},[a("v-select",{attrs:{items:t.filteredUsers,"item-value":"id","item-text":"text",label:"Responsable"},model:{value:t.editedItem.user_id,callback:function(e){t.$set(t.editedItem,"user_id",e)},expression:"editedItem.user_id"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",flat:""},on:{click:t.close}},[t._v("Cancel")]),a("v-btn",{attrs:{color:"blue darken-1",flat:""},on:{click:t.save}},[t._v("Save")])],1)],1)],1)],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.areas},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",[t._v(t._s(e.item.title))]),a("td",{staticClass:"justify-center layout px-0"},[a("v-icon",{staticClass:"mr-2 blue--text",attrs:{small:""},on:{click:function(a){t.editItem(e.item)}}},[t._v("\n          edit\n        ")]),a("v-icon",{staticClass:"red--text",attrs:{small:""},on:{click:function(a){t.deleteItem(e.item)}}},[t._v("\n          delete\n        ")])],1)]}}])},[a("template",{slot:"no-data"},[a("v-btn",{attrs:{color:"primary"},on:{click:t.initialize}},[t._v("Reload")])],1)],2)],1)},ba=[],_a=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";Object(X["a"])(this,t),this.id=e,this.title=a,this.user_id=s,this.created_at=i,this.updated_at=r},ga={data:function(){return{dialog:!1,formTitle:"",creating:!1,headers:[{text:"Nombre",align:"left",sortable:!0,value:"name"},{text:"Actions",value:"name",sortable:!1}],desserts:[],editedIndex:-1,editedItem:new _a,defaultItem:new _a}},mounted:function(){},methods:{initialize:function(){this.$store.dispatch("areas/loadAreas")},showForm:function(){this.creating=!0,this.editedItem=this.defaultItem,this.formTitle="Registrar Área"},close:function(){this.dialog=!1},save:function(){this.dialog=!1,this.creating?(this.$store.dispatch("areas/createArea",this.editedItem),this.defaultItem=new _a):this.$store.dispatch("areas/updateArea",this.editedItem)},editItem:function(t){this.dialog=!0,this.formTitle="Editar área",this.creating=!1,this.editedItem=t},deleteItem:function(t){},continueRemoving:function(t){this.$store.dispatch("areas/removeArea",t)}},computed:Object(u["a"])({},Object(v["b"])({areas:"areas/getAreas",users:"users/getUsers"}),{filteredUsers:function(){return this.users.map(function(t){return{id:t.id,text:"".concat(t.name," ").concat(t.lastname)}})}})},xa=ga,ja=a("169a"),ya=a("ce7e"),Va=Object(f["a"])(xa,ha,ba,!1,null,null,null),ka=Va.exports;b()(Va,{VBtn:_["a"],VCard:at["a"],VCardActions:st["a"],VCardText:st["b"],VCardTitle:it["a"],VContainer:L["a"],VDataTable:Be["a"],VDialog:ja["a"],VDivider:ya["a"],VFlex:N["a"],VIcon:P["a"],VLayout:H["a"],VSelect:xe["a"],VSpacer:g["a"],VTextField:ct["a"],VToolbar:x["a"],VToolbarTitle:j["b"]});var Ca=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[t._v("Puestos")]),a("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-btn",{staticClass:"mb-2",attrs:{slot:"activator",color:"primary",dark:""},on:{click:t.showForm},slot:"activator"},[t._v("Agregar puesto")]),a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{attrs:{label:"Name"},model:{value:t.editedItem.title,callback:function(e){t.$set(t.editedItem,"title",e)},expression:"editedItem.title"}})],1),a("v-flex",{attrs:{xs12:""}},[a("v-select",{attrs:{items:t.filteredAreas,"item-value":"id","item-text":"text",label:"Área"},model:{value:t.editedItem.area_id,callback:function(e){t.$set(t.editedItem,"area_id",e)},expression:"editedItem.area_id"}})],1),a("v-flex",{attrs:{xs12:""}},[a("v-select",{attrs:{disabled:!t.editedItem.area_id,items:t.filteredDepartments,"item-value":"id","item-text":"text",label:"Departamento"},model:{value:t.editedItem.department_id,callback:function(e){t.$set(t.editedItem,"department_id",e)},expression:"editedItem.department_id"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",flat:""},on:{click:t.close}},[t._v("Cancel")]),a("v-btn",{attrs:{color:"blue darken-1",flat:""},on:{click:t.save}},[t._v("Save")])],1)],1)],1)],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.positions},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",[t._v(t._s(e.item.title))]),a("td",{staticClass:"justify-center layout px-0"},[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){t.editItem(e.item)}}},[t._v("\n          edit\n        ")]),a("v-icon",{attrs:{small:""},on:{click:function(a){t.deleteItem(e.item)}}},[t._v("\n          delete\n        ")])],1)]}}])},[a("template",{slot:"no-data"},[a("v-btn",{attrs:{color:"primary"},on:{click:t.initialize}},[t._v("Reload")])],1)],2)],1)},wa=[],$a=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",n=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"";Object(X["a"])(this,t),this.id=e,this.title=a,this.area_id=s,this.department_id=i,this.created_at=r,this.updated_at=n},Ta={data:function(){return{dialog:!1,formTitle:"",creating:!1,headers:[{text:"Nombre",align:"left",sortable:!0,value:"name"},{text:"Actions",value:"name",sortable:!1}],desserts:[],editedIndex:-1,editedItem:new $a,defaultItem:new $a}},methods:{initialize:function(){this.$store.dispatch("positions/loadPositions")},showForm:function(){this.creating=!0,this.editedItem=this.defaultItem,this.formTitle="Registrar Puesto"},close:function(){this.dialog=!1},save:function(){this.dialog=!1,this.creating?(this.$store.dispatch("positions/createPosition",this.editedItem),this.defaultItem=new $a):this.$store.dispatch("positions/updatePosition",this.editedItem)},editItem:function(t){this.dialog=!0,this.formTitle="Editar puesto",this.creating=!1,this.editedItem=t},deleteItem:function(t){}},computed:Object(u["a"])({},Object(v["b"])({positions:"positions/getPositions",users:"users/getUsers",areas:"areas/getAreas",departments:"departments/getDepartments"}),{filteredDepartments:function(){var t=this.editedItem.area_id,e=this.departments.filter(function(e){return e.area_id==t}).map(function(t){return{id:t.id,text:t.title}});return e},filteredAreas:function(){return this.areas.map(function(t){return{id:t.id,text:t.title}})}})},Ia=Ta,Pa=Object(f["a"])(Ia,Ca,wa,!1,null,null,null),Ua=Pa.exports;b()(Pa,{VBtn:_["a"],VCard:at["a"],VCardActions:st["a"],VCardText:st["b"],VCardTitle:it["a"],VContainer:L["a"],VDataTable:Be["a"],VDialog:ja["a"],VDivider:ya["a"],VFlex:N["a"],VIcon:P["a"],VLayout:H["a"],VSelect:xe["a"],VSpacer:g["a"],VTextField:ct["a"],VToolbar:x["a"],VToolbarTitle:j["b"]});var Sa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[t._v("Departamentos")]),a("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-btn",{staticClass:"mb-2",attrs:{slot:"activator",color:"primary",dark:""},on:{click:t.showForm},slot:"activator"},[t._v("Agregar departamento")]),a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{attrs:{label:"Name"},model:{value:t.editedItem.title,callback:function(e){t.$set(t.editedItem,"title",e)},expression:"editedItem.title"}})],1),a("v-flex",{attrs:{xs12:""}},[a("v-select",{attrs:{items:t.filteredUsers,"item-value":"id","item-text":"text",label:"Responsable"},model:{value:t.editedItem.user_id,callback:function(e){t.$set(t.editedItem,"user_id",e)},expression:"editedItem.user_id"}})],1),a("v-flex",{attrs:{xs12:""}},[a("v-select",{attrs:{items:t.filteredAreas,"item-value":"id","item-text":"text",label:"Área"},model:{value:t.editedItem.area_id,callback:function(e){t.$set(t.editedItem,"area_id",e)},expression:"editedItem.area_id"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",flat:""},on:{click:t.close}},[t._v("Cancel")]),a("v-btn",{attrs:{color:"blue darken-1",flat:""},on:{click:t.save}},[t._v("Save")])],1)],1)],1)],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.departments},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",[t._v(t._s(e.item.title))]),a("td",{staticClass:"justify-center layout px-0"},[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){t.editItem(e.item)}}},[t._v("\n          edit\n        ")]),a("v-icon",{attrs:{small:""},on:{click:function(a){t.deleteItem(e.item)}}},[t._v("\n          delete\n        ")])],1)]}}])},[a("template",{slot:"no-data"},[a("v-btn",{attrs:{color:"primary"},on:{click:t.initialize}},[t._v("Reload")])],1)],2)],1)},Aa=[],Oa=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",n=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"";Object(X["a"])(this,t),this.id=e,this.title=a,this.user_id=s,this.area_id=i,this.created_at=r,this.updated_at=n},Da={data:function(){return{dialog:!1,formTitle:"",creating:!1,headers:[{text:"Nombre",align:"left",sortable:!0,value:"name"},{text:"Actions",value:"name",sortable:!1}],desserts:[],editedIndex:-1,editedItem:new Oa,defaultItem:new Oa}},methods:{initialize:function(){this.$store.dispatch("departments/loaDepartments")},showForm:function(){this.creating=!0,this.editedItem=this.defaultItem,this.formTitle="Registrar Departamento"},close:function(){this.dialog=!1},save:function(){this.dialog=!1,this.creating?(this.$store.dispatch("departments/createDepartment",this.editedItem),this.defaultItem=new Oa):this.$store.dispatch("departments/updateDepartment",this.editedItem)},editItem:function(t){this.dialog=!0,this.formTitle="Editar departamento",this.creating=!1,this.editedItem=t},deleteItem:function(t){}},computed:Object(u["a"])({},Object(v["b"])({departments:"departments/getDepartments",users:"users/getUsers",areas:"areas/getAreas"}),{filteredUsers:function(){return this.users.map(function(t){return{id:t.id,text:"".concat(t.name," ").concat(t.lastname)}})},filteredAreas:function(){return this.areas.map(function(t){return{id:t.id,text:t.title}})}})},Ea=Da,Fa=Object(f["a"])(Ea,Sa,Aa,!1,null,null,null),Ma=Fa.exports;b()(Fa,{VBtn:_["a"],VCard:at["a"],VCardActions:st["a"],VCardText:st["b"],VCardTitle:it["a"],VContainer:L["a"],VDataTable:Be["a"],VDialog:ja["a"],VDivider:ya["a"],VFlex:N["a"],VIcon:P["a"],VLayout:H["a"],VSelect:xe["a"],VSpacer:g["a"],VTextField:ct["a"],VToolbar:x["a"],VToolbarTitle:j["b"]});var Ra={components:{"v-areas":ka,"v-departments":Ma,"v-positions":Ua},data:function(){return{tabs:["Áreas","Departamentos","Puestos"]}}},za=Ra,La=Object(f["a"])(za,pa,fa,!1,null,null,null),Ya=La.exports;b()(La,{VCard:at["a"],VCardText:st["b"],VFlex:N["a"],VTab:Lt["a"],VTabItem:Yt["a"],VTabs:Nt["a"]});var Na={components:{"v-company-tabs":Ya},mounted:function(){this.$store.dispatch("areas/loadAreas"),this.$store.dispatch("departments/loadDepartments"),this.$store.dispatch("positions/loadPositions"),this.$store.dispatch("users/loadUsers")}},Ha=Na,qa=Object(f["a"])(Ha,va,ma,!1,null,null,null),Ga=qa.exports;b()(qa,{VFlex:N["a"]});var Ba=[{component:Ga,path:"/company",name:"company",beforeEnter:fe}],Qa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-flex",[a("v-hours-tabs")],1)},Ja=[],Ka=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-flex",[a("v-tabs",{attrs:{"fixed-tabs":""}},[t._l(t.tabs,function(e){return a("v-tab",{key:e,attrs:{ripple:""}},[t._v("\n            "+t._s(e)+"\n        ")])}),a("v-tab-item",[a("v-card",{attrs:{flat:""}},[a("v-card-text",[a("v-hours-user")],1)],1)],1),a("v-tab-item",[a("v-card",{attrs:{flat:""}},[a("v-card-text",[a("v-add-hours")],1)],1)],1),a("v-tab-item",[a("v-card",{attrs:{flat:""}},[a("v-card-text",[a("v-history-hours")],1)],1)],1)],2)],1)},Wa=[],Xa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",[a("v-card-title",[a("h3",[t._v("Registrar")])]),a("v-card-text",[a("v-flex",{attrs:{xs12:"",row:""}},[a("v-form",[a("v-container",[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs6:""}},[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-select",{attrs:{items:t.filteredProjects,"item-value":"id","item-text":"text",label:"Proyecto"},model:{value:t.hour.project_id,callback:function(e){t.$set(t.hour,"project_id",e)},expression:"hour.project_id"}})],1)],1),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{attrs:{label:"Horas"},model:{value:t.hour.hours,callback:function(e){t.$set(t.hour,"hours",e)},expression:"hour.hours"}})],1)],1),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-textarea",{attrs:{name:"acvivity",label:"Actividad"},model:{value:t.hour.activity,callback:function(e){t.$set(t.hour,"activity",e)},expression:"hour.activity"}})],1)],1),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-textarea",{attrs:{name:"comments",label:"Comentarios"},model:{value:t.hour.comments,callback:function(e){t.$set(t.hour,"comments",e)},expression:"hour.comments"}})],1)],1)],1),a("v-flex",{attrs:{xs6:""}},[a("v-flex",{attrs:{xs12:""}},[a("h4",[t._v("Fecha")]),a("v-date-picker",{model:{value:t.hour.date,callback:function(e){t.$set(t.hour,"date",e)},expression:"hour.date"}})],1)],1)],1)],1),a("v-btn",{staticClass:"blue white--text",attrs:{disabled:t.invalidForm},on:{click:t.onSubmit}},[t._v("\n                Registrar\n                ")])],1)],1)],1)],1)},Za=[],ts=a("c1df"),es=a.n(ts),as=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",n=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"",c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"",l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:"",d=arguments.length>9&&void 0!==arguments[9]?arguments[9]:"",u=arguments.length>10&&void 0!==arguments[10]?arguments[10]:"",v=arguments.length>11&&void 0!==arguments[11]?arguments[11]:"",m=arguments.length>12&&void 0!==arguments[12]?arguments[12]:"",p=arguments.length>13&&void 0!==arguments[13]?arguments[13]:"";Object(X["a"])(this,t),this.id=e,this.hours=a,this.in_time=s,this.date=i,this.activity=r,this.comments=n,this.user_id=o,this.project_id=c,this.reg_user_id=l,this.user=d,this.project=u,this.project_manager=v,this.created_at=m,this.updated_at=p},ss={components:{},data:function(){return{hour:new as}},methods:{onSubmit:function(){this.$store.dispatch("hours/addHour",this.hour)}},computed:Object(u["a"])({invalidForm:function(){return""==this.hour.project_id||""==this.hour.hours||""==this.hour.date},filteredProjects:function(){return this.projectsUser.map(function(t){return{id:t.id,text:"".concat(t.code," - ").concat(t.name)}})}},Object(v["b"])({projectsUser:"projects/getProjectsAuthenticatedUser"}))},is=ss,rs=a("2e4b"),ns=Object(f["a"])(is,Xa,Za,!1,null,"47b87452",null),os=ns.exports;b()(ns,{VBtn:_["a"],VCard:at["a"],VCardText:st["b"],VCardTitle:it["a"],VContainer:L["a"],VDatePicker:rs["a"],VFlex:N["a"],VForm:rt["a"],VLayout:H["a"],VSelect:xe["a"],VTextField:ct["a"],VTextarea:je["a"]});var cs=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.hoursUser},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",[t._v(t._s(e.item.project))]),a("td",[t._v(t._s(e.item.activity))]),a("td",[t._v(t._s(e.item.hours))]),a("td",[t._v(t._s(e.item.created_by))]),a("td",[t._v(t._s(e.item.in_time))]),a("td",[t._v(t._s(e.item.date))]),a("td",[t._v(t._s(e.item.created_at))]),a("td",{staticClass:"justify-center layout px-0"},[a("v-icon",{staticClass:"mr-2 blue--text",attrs:{small:""},on:{click:function(a){t.editItem(e.item)}}},[t._v("\n        edit\n      ")]),a("v-icon",{staticClass:"red--text",attrs:{small:""},on:{click:function(a){t.deleteItem(e.item)}}},[t._v("\n        delete\n      ")])],1)]}}])})},ls=[],ds={data:function(){return{headers:[{text:"Proyecto",align:"left",sortable:!0,value:"project"},{text:"Actividad",align:"left",sortable:!0,value:"activity"},{text:"Horas",align:"left",sortable:!0,value:"hours"},{text:"Registrado por",align:"left",sortable:!0,value:"created_by"},{text:"En Tiempo",align:"left",sortable:!0,value:"in_time"},{text:"Fecha",align:"left",sortable:!0,value:"date"},{text:"Creado",align:"left",sortable:!0,value:"created_at"},{text:"Actions",value:"name",sortable:!1}]}},methods:{editItem:function(t){},deleteItem:function(t){}},computed:Object(u["a"])({},Object(v["b"])({hours:"hours/getHoursOftheDay"}),{hoursUser:function(){return this.hours.map(function(t){return{project:t.project.code,activity:t.activity,hours:t.hours,in_time:t.in_time?"SI":"No",created_by:t.project_manager?"".concat(t.project_manager.name," ").concat(t.project_manager.lastname):"".concat(t.user.name," ").concat(t.user.lastname),date:es()(t.date).format("YYYY-MM-DD"),created_at:es()(t.created_at).format("YYYY-MM-DD")}})}})},us=ds,vs=Object(f["a"])(us,cs,ls,!1,null,null,null),ms=vs.exports;b()(vs,{VDataTable:Be["a"],VIcon:P["a"]});var ps=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.hoursUser},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",[t._v(t._s(e.item.project))]),a("td",[t._v(t._s(e.item.activity))]),a("td",[t._v(t._s(e.item.hours))]),a("td",[t._v(t._s(e.item.created_by))]),a("td",[t._v(t._s(e.item.in_time))]),a("td",[t._v(t._s(e.item.date))]),a("td",[t._v(t._s(e.item.created_at))]),a("td",{staticClass:"justify-center layout px-0"},[a("v-icon",{staticClass:"mr-2 blue--text",attrs:{small:""},on:{click:function(a){t.editItem(e.item)}}},[t._v("\n        edit\n      ")]),a("v-icon",{staticClass:"red--text",attrs:{small:""},on:{click:function(a){t.deleteItem(e.item)}}},[t._v("\n        delete\n      ")])],1)]}}])})},fs=[],hs={data:function(){return{headers:[{text:"Proyecto",align:"left",sortable:!0,value:"project"},{text:"Actividad",align:"left",sortable:!0,value:"activity"},{text:"Horas",align:"left",sortable:!0,value:"hours"},{text:"Registrado por",align:"left",sortable:!0,value:"created_by"},{text:"En Tiempo",align:"left",sortable:!0,value:"in_time"},{text:"Fecha",align:"left",sortable:!0,value:"date"},{text:"Creado",align:"left",sortable:!0,value:"created_at"},{text:"Actions",value:"name",sortable:!1}]}},methods:{editItem:function(t){},deleteItem:function(t){}},computed:Object(u["a"])({},Object(v["b"])({hours:"hours/getHistoryHours"}),{hoursUser:function(){return this.hours.map(function(t){return{project:t.project.code,activity:t.activity,hours:t.hours,in_time:t.in_time?"SI":"No",created_by:t.project_manager?"".concat(t.project_manager.name," ").concat(t.project_manager.lastname):"".concat(t.user.name," ").concat(t.user.lastname),date:es()(t.date).format("YYYY-MM-DD"),created_at:es()(t.created_at).format("YYYY-MM-DD")}})}})},bs=hs,_s=Object(f["a"])(bs,ps,fs,!1,null,null,null),gs=_s.exports;b()(_s,{VDataTable:Be["a"],VIcon:P["a"]});var xs={components:{"v-add-hours":os,"v-history-hours":gs,"v-hours-user":ms},data:function(){return{tabs:["Registradas Hoy","Nuevo","Historial"]}}},js=xs,ys=Object(f["a"])(js,Ka,Wa,!1,null,null,null),Vs=ys.exports;b()(ys,{VCard:at["a"],VCardText:st["b"],VFlex:N["a"],VTab:Lt["a"],VTabItem:Yt["a"],VTabs:Nt["a"]});var ks={components:{"v-hours-tabs":Vs},mounted:function(){this.$store.dispatch("projects/loadProjectsUser"),this.$store.dispatch("hours/loadCurrentHours"),this.$store.dispatch("hours/loadHistoryHours")}},Cs=ks,ws=Object(f["a"])(Cs,Qa,Ja,!1,null,null,null),$s=ws.exports;b()(ws,{VFlex:N["a"]});var Ts=[{name:"hours",path:"/hours",component:$s,beforeEnter:fe}],Is=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",[a("v-flex",[a("v-viatics-tabs")],1)],1)},Ps=[],Us=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-tabs",{attrs:{"fixed-tabs":""}},[a("v-tab",{attrs:{ripple:""}},[t._v("\n            Mis viáticos\n        ")]),t.showAuthorizateTab?a("v-tab",{attrs:{ripple:""}},[t._v("\n            Autorizar\n        ")]):t._e(),t.showInProcessTab?a("v-tab",{attrs:{ripple:""}},[t._v("\n            En proceso\n        ")]):t._e(),t.showHistoryTab?a("v-tab",{attrs:{ripple:""}},[t._v("\n            Historial\n        ")]):t._e(),t.showNewViaticTab?a("v-tab",{attrs:{ripple:""}},[t._v("\n            Nuevo\n        ")]):t._e(),t.showEditViaticTab?a("v-tab",{attrs:{ripple:""}},[t._v("\n            Editar Solicitud\n        ")]):t._e(),a("v-tab-item",[a("v-card",{attrs:{flat:""}},[a("v-card-text",[a("v-viatics-user")],1)],1)],1),t.showAuthorizateTab?a("v-tab-item",[a("v-card",{attrs:{flat:""}},[a("v-card-text",[a("v-viatics-authorize")],1)],1)],1):t._e(),t.showInProcessTab?a("v-tab-item",[a("v-card",{attrs:{flat:""}},[a("v-card-text",[a("v-viatics-in-process")],1)],1)],1):t._e(),t.showHistoryTab?a("v-tab-item",[a("v-card",{attrs:{flat:""}},[a("v-card-text",[a("v-history-viatics")],1)],1)],1):t._e(),t.showNewViaticTab?a("v-tab-item",[a("v-card",{attrs:{flat:""}},[a("v-card-text",[a("v-create-viatic")],1)],1)],1):t._e(),t.showEditViaticTab?a("v-tab-item",[a("v-card",{attrs:{flat:""}},[a("v-card-text",[a("v-edit-viatic")],1)],1)],1):t._e()],1)],1)},Ss=[],As=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",[a("v-card-title",[a("h3",[t._v("Registrar")])]),a("v-card-text",[a("v-form",[a("v-container",[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:"",md6:""}},[a("v-select",{attrs:{"no-data-text":"No tienes proyectos activos con permisos para registrat viáticos",items:t.filteredProjects,"item-value":"id","item-text":"text",label:"Proyecto"},model:{value:t.viatic.project_id,callback:function(e){t.$set(t.viatic,"project_id",e)},expression:"viatic.project_id"}})],1),a("v-flex",{attrs:{xs12:"",md6:""}},[a("v-text-field",{attrs:{label:"Monto",type:"number",step:"0.01"},model:{value:t.viatic.money_requested,callback:function(e){t.$set(t.viatic,"money_requested",e)},expression:"viatic.money_requested"}})],1),a("v-flex",{attrs:{xs12:"",md6:""}},[a("v-text-field",{attrs:{label:"Origen"},model:{value:t.viatic.origin,callback:function(e){t.$set(t.viatic,"origin",e)},expression:"viatic.origin"}})],1),a("v-flex",{attrs:{xs12:"",md6:""}},[a("v-text-field",{attrs:{label:"Destino"},model:{value:t.viatic.destiny,callback:function(e){t.$set(t.viatic,"destiny",e)},expression:"viatic.destiny"}})],1),a("v-flex",{attrs:{xs12:"",md6:""}},[a("h4",[t._v("Salida")]),a("v-date-picker",{attrs:{landscape:"true"},model:{value:t.viatic.departure,callback:function(e){t.$set(t.viatic,"departure",e)},expression:"viatic.departure"}})],1),a("v-flex",{attrs:{xs12:"",md6:""}},[a("h4",[t._v("LLegada")]),a("v-date-picker",{attrs:{landscape:"true"},model:{value:t.viatic.arrive,callback:function(e){t.$set(t.viatic,"arrive",e)},expression:"viatic.arrive"}})],1),a("v-flex",{attrs:{xs12:""}},[a("v-textarea",{attrs:{name:"comments",label:"Comentarios"},model:{value:t.viatic.comments,callback:function(e){t.$set(t.viatic,"comments",e)},expression:"viatic.comments"}})],1)],1)],1),a("v-btn",{staticClass:"blue white--text",attrs:{disabled:t.invalidForm},on:{click:t.onSubmit}},[t._v("\n                Registrar\n                ")])],1)],1)],1)},Os=[],Ds={components:{},data:function(){return{viatic:new ve}},methods:{onSubmit:function(){this.$store.dispatch("viatics/addViatic",this.viatic)}},computed:Object(u["a"])({invalidForm:function(){return""==this.viatic.project_id||""==this.viatic.money_requested||""==this.viatic.origin||""==this.viatic.destiny||""==this.viatic.departure||""==this.viatic.arrive},filteredProjects:function(){return this.projectsUser.filter(function(t){return 0!=t.project_user.can_add_viatics}).map(function(t){return{id:t.id,text:"".concat(t.code," - ").concat(t.name)}})}},Object(v["b"])({projectsUser:"projects/getProjectsAuthenticatedUser"}))},Es=Ds,Fs=Object(f["a"])(Es,As,Os,!1,null,"791e2b56",null),Ms=Fs.exports;b()(Fs,{VBtn:_["a"],VCard:at["a"],VCardText:st["b"],VCardTitle:it["a"],VContainer:L["a"],VDatePicker:rs["a"],VFlex:N["a"],VForm:rt["a"],VLayout:H["a"],VSelect:xe["a"],VTextField:ct["a"],VTextarea:je["a"]});var Rs=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.viatics},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",[t._v(t._s(e.item.id))]),a("td",[t._v(t._s(e.item.project))]),a("td",[t._v(t._s(e.item.origin))]),a("td",[t._v(t._s(e.item.destiny))]),a("td",[t._v(t._s(e.item.departure))]),a("td",[t._v(t._s(e.item.arrive))]),a("td",[t._v(t._s(e.item.money_requested))]),a("td",[t._v(t._s(e.item.authorizator))]),a("td",{staticClass:"white--text",class:e.item.tdclass},[t._v(t._s(e.item.status))]),a("td",{staticClass:"justify-center layout px-0"},[a("v-icon",{staticClass:"mr-2 blue--text",attrs:{small:""},on:{click:function(a){t.editItem(e.item)}}},[t._v("\n            edit\n        ")]),a("v-icon",{staticClass:"red--text",attrs:{small:""},on:{click:function(a){t.deleteItem(e.item)}}},[t._v("\n            delete\n        ")])],1)]}}])},[a("template",{slot:"no-data"},[a("v-btn",{attrs:{color:"primary"},on:{click:t.initialize}},[t._v("Reload")])],1)],2)],1)},zs=[],Ls=a("59ad"),Ys=a.n(Ls),Ns={methods:{getTdColor:function(t){var e="";switch(t){case"created":e="green";break;case"pending-deposit":e="blue";break;case"check-in-process":e="yellow";break;case"revision-pm":e="red";break;case"revision-reviewer":e="red";break;case"rejected":e="red";break;case"canceled":e="orange";break;case"collection":e="red";break;case"pending-refund":e="cyan";break;case"to-finalize":e="cyan";break;case"finished":e="cyan";break;case"revision-refund":e="purple";break}return e}}},Hs={mixins:[Ns],mounted:function(){this.$store.dispatch("viatics/loadViaticsUser")},data:function(){return{headers:[{text:"Folio",align:"left",sortable:!0,value:"id"},{text:"Proyecto",align:"left",sortable:!0,value:"project"},{text:"Origen",align:"left",sortable:!0,value:"origin"},{text:"Destino",align:"left",sortable:!0,value:"destiny"},{text:"Salida",align:"left",sortable:!0,value:"departure"},{text:"Llegada",align:"left",sortable:!0,value:"arrive"},{text:"Solicitado",align:"left",sortable:!0,value:"money_requested"},{text:"Autoriza",align:"left",sortable:!0,value:"auth_user_id"},{text:"Estatus",align:"left",sortable:!0,value:"status_id"},{text:"Actions",value:"name",sortable:!1}]}},methods:{initialize:function(){this.$store.dispatch("viatics/loadViaticsUser")}},computed:Object(u["a"])({},Object(v["b"])({viaticsUser:"viatics/getViaticsUser"}),{viatics:function(){var t=this;return this.viaticsUser.map(function(e){return{id:e.id,project:e.project.code,origin:e.origin,destiny:e.destiny,departure:es()(e.departure).format("YYYY-MM-DD"),arrive:es()(e.arrive).format("YYYY-MM-DD"),money_requested:Ys()(e.money_requested).toFixed(2),authorizator:e.auth_user_id?e.authorizator.name:"N/A",tdclass:t.getTdColor(e.status.name),status:e.status.title}})}})},qs=Hs,Gs=Object(f["a"])(qs,Rs,zs,!1,null,null,null),Bs=Gs.exports;b()(Gs,{VBtn:_["a"],VDataTable:Be["a"],VIcon:P["a"]});var Qs=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},Js=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mt-4"},[a("table",{staticClass:"v-datatable v-table theme--light",attrs:{id:"history-viatics"}},[a("thead",[a("tr",[a("th",[t._v("ID")]),a("th",[t._v("Proyecto")]),a("th",[t._v("Estatus")]),a("th",[t._v("Salida")]),a("th",[t._v("LLegada")]),a("th",[t._v("Despositado")]),a("th",[t._v("Comprobado")]),a("th",[t._v("Solicitante")]),a("th",[t._v("Creado")]),a("th",[t._v("Acciones")])])]),a("tbody")])])}];a("7514");window.$=window.jQuery=a("1157");a("1653");var Ks={mixins:[Ns],mounted:function(){var t=this;$(function(){window.history_viatics_table=$("#history-viatics").DataTable({processing:!0,serverSide:!0,responsive:!0,orderCellsTop:!0,ordering:!0,aLengthMenu:[[10,25,50,100,200,-1],[10,25,50,100,200,"All"]],ajax:{url:"http://localhost:8081/api/v1/viatics/history",beforeSend:function(t){t.setRequestHeader("Authorization",localStorage.getItem("token"))},error:function(e,a,s){401===e.status&&t.logoutUser(!0)}},drawCallback:function(){for(var t=document.querySelectorAll(".paginate_button"),e=0;e<t.length;e++)t[e].classList+=" v-btn theme--light blue text--white"},rowCallback:function(e,a,s){try{var i=t.getTdColor(a[10]);$(e).find("td:eq(2)").addClass(i),$(e).find("td:eq(2)").addClass("white--text ")}catch(r){return a[2]}},columnDefs:[{targets:9,render:function(t,e,a){return'<button data-id="'.concat(t,'" class="open_viatic v-btn v-btn--flat v-btn--icon theme--light blue--text"> <i class="fa fa-edit"></i> </button>')}},{targets:[3,4,8],render:function(t,e){try{return es()(t).format("YYYY-MM-DD")}catch(a){return t}}}],order:[[0,"desc"]]})}),$("#history-viatics tbody").on("click",".open_viatic",function(e){var a=$(this).data("id");a&&t.onShowViatic(a)})},methods:{onShowViatic:function(t){},logoutUser:function(t){this.$store.dispatch("auth/logoutUser",t)}}},Ws=Ks,Xs=Object(f["a"])(Ws,Qs,Js,!1,null,null,null),Zs=Xs.exports,ti=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.viatics},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",[t._v(t._s(e.item.id))]),a("td",[t._v(t._s(e.item.project))]),a("td",{staticClass:"white--text",class:e.item.tdclass},[t._v(t._s(e.item.status))]),a("td",[t._v(t._s(e.item.money_requested))]),a("td",[t._v(t._s(e.item.money_deposited))]),a("td",[t._v(t._s(e.item.money_checked))]),a("td",[t._v(t._s(e.item.user))]),a("td",[t._v(t._s(e.item.departure))]),a("td",[t._v(t._s(e.item.arrive))]),a("td",[t._v(t._s(e.item.created_at))]),a("td",{staticClass:"justify-center layout px-0"},[a("v-icon",{staticClass:"mr-2 blue--text",attrs:{small:""},on:{click:function(a){t.editItem(e.item)}}},[t._v("\n            edit\n        ")]),a("v-icon",{staticClass:"red--text",attrs:{small:""},on:{click:function(a){t.deleteItem(e.item)}}},[t._v("\n            delete\n        ")])],1)]}}])},[a("template",{slot:"no-data"},[a("v-btn",{attrs:{color:"primary"},on:{click:t.initialize}},[t._v("Reload")])],1)],2)],1)},ei=[],ai={mixins:[Ns],mounted:function(){this.$store.dispatch("viatics/loadPendingViatics")},data:function(){return{headers:[{text:"Folio",align:"left",sortable:!0,value:"id"},{text:"Proyecto",align:"left",sortable:!0,value:"project"},{text:"Estatus",align:"left",sortable:!0,value:"status"},{text:"Solicitado",align:"left",sortable:!0,value:"money_requested"},{text:"Depositado",align:"left",sortable:!0,value:"money_deposited"},{text:"Comprobado",align:"left",sortable:!0,value:"money_checked"},{text:"Solicitante",align:"left",sortable:!0,value:"user"},{text:"Salida",align:"left",sortable:!0,value:"departure"},{text:"Llegada",align:"left",sortable:!0,value:"arrive"},{text:"Creado",align:"left",sortable:!0,value:"created_at"},{text:"Actions",value:"name",sortable:!1}]}},methods:{initialize:function(){this.$store.dispatch("viatics/loadPendingViatics")}},computed:Object(u["a"])({},Object(v["b"])({viaticsToAuthorize:"viatics/gePendingViatics"}),{viatics:function(){var t=this;return this.viaticsToAuthorize.map(function(e){return{id:e.id,project:e.project.code,origin:e.origin,destiny:e.destiny,departure:es()(e.departure).format("YYYY-MM-DD"),arrive:es()(e.arrive).format("YYYY-MM-DD"),money_requested:Ys()(e.money_requested).toFixed(2),money_checked:Ys()(e.money_checked).toFixed(2),money_deposited:Ys()(e.money_deposited).toFixed(2),user:e.user.name,status:e.status.title,tdclass:t.getTdColor(e.status.name),created_at:es()(e.created_at).format("YYYY-MM-DD")}})}})},si=ai,ii=Object(f["a"])(si,ti,ei,!1,null,null,null),ri=ii.exports;b()(ii,{VBtn:_["a"],VDataTable:Be["a"],VIcon:P["a"]});var ni=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.viatics},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",[t._v(t._s(e.item.id))]),a("td",[t._v(t._s(e.item.project))]),a("td",{staticClass:"white--text",class:e.item.tdclass},[t._v(t._s(e.item.status))]),a("td",[t._v(t._s(e.item.money_requested))]),a("td",[t._v(t._s(e.item.money_deposited))]),a("td",[t._v(t._s(e.item.money_checked))]),a("td",[t._v(t._s(e.item.user))]),a("td",[t._v(t._s(e.item.departure))]),a("td",[t._v(t._s(e.item.arrive))]),a("td",[t._v(t._s(e.item.created_at))]),a("td",{staticClass:"justify-center layout px-0"},[a("v-icon",{staticClass:"mr-2 blue--text",attrs:{small:""},on:{click:function(a){t.editItem(e.item)}}},[t._v("\n            edit\n        ")]),a("v-icon",{staticClass:"red--text",attrs:{small:""},on:{click:function(a){t.deleteItem(e.item)}}},[t._v("\n            delete\n        ")])],1)]}}])},[a("template",{slot:"no-data"},[a("v-btn",{attrs:{color:"primary"},on:{click:t.initialize}},[t._v("Reload")])],1)],2)],1)},oi=[],ci={mixins:[Ns],mounted:function(){this.$store.dispatch("viatics/loadViaticsInProcess")},data:function(){return{headers:[{text:"Folio",align:"left",sortable:!0,value:"id"},{text:"Proyecto",align:"left",sortable:!0,value:"project"},{text:"Estatus",align:"left",sortable:!0,value:"status"},{text:"Depositado",align:"left",sortable:!0,value:"money_deposited"},{text:"Comprobado",align:"left",sortable:!0,value:"money_checked"},{text:"Solicitante",align:"left",sortable:!0,value:"user"},{text:"Creado",align:"left",sortable:!0,value:"created_at"},{text:"Actions",value:"name",sortable:!1}]}},methods:{initialize:function(){this.$store.dispatch("viatics/loadViaticsInProcess")}},computed:Object(u["a"])({},Object(v["b"])({viaticsInProcess:"viatics/getViaticsInProcess"}),{viatics:function(){var t=this;return this.viaticsInProcess.map(function(e){return{id:e.id,project:e.project.code,origin:e.origin,destiny:e.destiny,departure:es()(e.departure).format("YYYY-MM-DD"),arrive:es()(e.arrive).format("YYYY-MM-DD"),money_requested:Ys()(e.money_requested).toFixed(2),money_checked:Ys()(e.money_checked).toFixed(2),money_deposited:Ys()(e.money_deposited).toFixed(2),user:e.user.name,status:e.status.title,tdclass:t.getTdColor(e.status.name),created_at:es()(e.created_at).format("YYYY-MM-DD")}})}})},li=ci,di=Object(f["a"])(li,ni,oi,!1,null,null,null),ui=di.exports;b()(di,{VBtn:_["a"],VDataTable:Be["a"],VIcon:P["a"]});var vi=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-search-viatic")],1)},mi=[],pi=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",[a("v-card-title",[a("h4",[t._v("Cargar Viático")])]),a("v-card-text",[a("v-form",[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:"",md6:""}},[a("v-text-field",{attrs:{label:"Folio",type:"number",step:"1"},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),a("v-flex",{attrs:{xs12:"",md6:""}},[a("v-btn",{staticClass:"blue white--text",attrs:{disabled:t.invalidForm},on:{click:t.onSubmit}},[t._v("\n\n                        Cargar datos "),a("v-icon",[t._v("search")])],1)],1)],1)],1)],1)],1)},fi=[],hi=(a("386d"),{data:function(){return{search:""}},methods:{onSubmit:function(){this.$store.dispatch("viatics/loadViatic",{id:this.search,toEdit:!1})}},computed:{invalidForm:function(){return""==this.search}}}),bi=hi,_i=Object(f["a"])(bi,pi,fi,!1,null,null,null),gi=_i.exports;b()(_i,{VBtn:_["a"],VCard:at["a"],VCardText:st["b"],VCardTitle:it["a"],VFlex:N["a"],VForm:rt["a"],VIcon:P["a"],VLayout:H["a"],VTextField:ct["a"]});var xi={components:{"v-search-viatic":gi}},ji=xi,yi=Object(f["a"])(ji,vi,mi,!1,null,null,null),Vi=yi.exports,ki={components:{"v-viatics-user":Bs,"v-viatics-authorize":ri,"v-viatics-in-process":ui,"v-history-viatics":Zs,"v-create-viatic":Ms,"v-edit-viatic":Vi},mounted:function(){this.$store.dispatch("projects/loadProjectsUser")},data:function(){return{}},computed:Object(u["a"])({},Object(v["b"])({roles:"auth/getRolesCurrentUser"}),{rolesNames:function(){return this.roles.map(function(t){return t.name})},showMyViaticsTab:function(){return!0},showAuthorizateTab:function(){var t=this;return["admin","supervisor","super-pm","revisor","pm"].some(function(e){return t.rolesNames.includes(e)})},showInProcessTab:function(){var t=this;return["admin","revisor"].some(function(e){return t.rolesNames.includes(e)})},showHistoryTab:function(){return!0},showNewViaticTab:function(){return!0},showEditViaticTab:function(){var t=this;return["admin"].some(function(e){return t.rolesNames.includes(e)})}})},Ci=ki,wi=Object(f["a"])(Ci,Us,Ss,!1,null,null,null),$i=wi.exports;b()(wi,{VCard:at["a"],VCardText:st["b"],VTab:Lt["a"],VTabItem:Yt["a"],VTabs:Nt["a"]});var Ti={components:{"v-viatics-tabs":$i},mounted:function(){}},Ii=Ti,Pi=Object(f["a"])(Ii,Is,Ps,!1,null,null,null),Ui=Pi.exports;b()(Pi,{VFlex:N["a"],VLayout:H["a"]});var Si=[{component:Ui,path:"/viatics",name:"viatics",beforeEnter:fe}],Ai=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-tabs",{attrs:{"fixed-tabs":""}},[a("v-tab",{attrs:{ripple:""}},[t._v("\n                    Activos\n                ")]),a("v-tab",{attrs:{ripple:""}},[t._v("\n                    No activos\n                ")]),a("v-tab-item",[a("v-card",{attrs:{flat:""}},[a("v-card-text",[a("v-active-users")],1)],1)],1),a("v-tab-item",[a("v-card",{attrs:{flat:""}},[a("v-card-text",[a("v-inactive-users")],1)],1)],1)],1),a("v-btn",{attrs:{absolute:"",dark:"",fab:"",top:"",router:"",to:"/users/add",right:"",color:"cyan"}},[a("v-icon",[t._v("add")])],1)],1)],1)],1)},Oi=[],Di=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.activeUsers},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",[t._v(t._s(e.item.name))]),a("td",[t._v(t._s(e.item.lastname))]),a("td",[t._v(t._s(e.item.email))]),a("td",[t._v(t._s(e.item.area))]),a("td",[t._v(t._s(e.item.department))]),a("td",[t._v(t._s(e.item.position))]),a("td",{staticClass:"justify-center layout px-0"},[a("v-icon",{staticClass:"mr-2 blue--text",attrs:{small:""},on:{click:function(a){t.editItem(e.item)}}},[t._v("\n            edit\n        ")]),a("v-icon",{staticClass:"red--text",attrs:{title:"Desactivar usuario",small:""},on:{click:function(a){t.deleteItem(e.item)}}},[t._v("\n            close\n        ")])],1)]}}])},[a("template",{slot:"no-data"},[a("v-btn",{attrs:{color:"primary"},on:{click:t.initialize}},[t._v("Reload")])],1)],2),a("v-modal-confirm",{ref:"modalusers",attrs:{title:t.titleModal,text:t.textModal},on:{continueDeleting:t.onContinue}})],1)},Ei=[],Fi=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{attrs:{width:"500"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",{staticClass:"headline grey lighten-2",attrs:{"primary-title":""}},[t._v("\n      "+t._s(t.title)+"\n    ")]),a("v-card-text",[t._v("\n      "+t._s(t.text)+"\n    ")]),a("v-divider"),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"red",flat:""},on:{click:function(e){t.dialog=!1}}},[t._v("\n        Cancelar\n      ")]),a("v-btn",{attrs:{color:"primary",flat:""},on:{click:t.sendConfirmation}},[t._v("\n        Confirmar\n      ")])],1)],1)],1)},Mi=[],Ri={props:["title","text"],data:function(){return{dialog:!1}},methods:{sendConfirmation:function(){this.dialog=!1,this.$emit("continueDeleting")}}},zi=Ri,Li=Object(f["a"])(zi,Fi,Mi,!1,null,null,null),Yi=Li.exports;b()(Li,{VBtn:_["a"],VCard:at["a"],VCardActions:st["a"],VCardText:st["b"],VCardTitle:it["a"],VDialog:ja["a"],VDivider:ya["a"],VSpacer:g["a"]});var Ni={components:{"v-modal-confirm":Yi},data:function(){return{userToDelete:new Z,titleModal:"Confirmar",textModal:"¿Realmente quieres desativar este usuario?",headers:[{text:"Nombre",align:"left",sortable:!0,value:"name"},{text:"Apellidos",align:"left",sortable:!0,value:"lastname"},{text:"Email",align:"left",sortable:!0,value:"email"},{text:"Area",align:"left",sortable:!0,value:"area"},{text:"Departamento",align:"left",sortable:!0,value:"department"},{text:"Puesto",align:"left",sortable:!0,value:"position"},{text:"Actions",value:"id",sortable:!1}]}},mounted:function(){},methods:{initialize:function(){this.$store.dispatch("users/loadUsers")},deleteItem:function(t){this.$refs.modalusers.dialog=!0,this.userToDelete=t},onContinue:function(){this.userToDelete.active=!1,this.$store.dispatch("users/changeStatusUser",this.userToDelete)},editItem:function(t){this.$router.push({name:"edit-user",params:{id:t.id}})}},computed:Object(u["a"])({},Object(v["b"])({activeUsers:"users/getActiveUsers"}))},Hi=Ni,qi=Object(f["a"])(Hi,Di,Ei,!1,null,null,null),Gi=qi.exports;b()(qi,{VBtn:_["a"],VDataTable:Be["a"],VIcon:P["a"]});var Bi=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.inactiveUsers},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",[t._v(t._s(e.item.name))]),a("td",[t._v(t._s(e.item.lastname))]),a("td",[t._v(t._s(e.item.email))]),a("td",[t._v(t._s(e.item.area))]),a("td",[t._v(t._s(e.item.department))]),a("td",[t._v(t._s(e.item.position))]),a("td",{staticClass:"justify-center layout px-0"},[a("v-icon",{staticClass:"mr-2 blue--text",attrs:{small:""},on:{click:function(a){t.editItem(e.item)}}},[t._v("\n            edit\n        ")]),a("v-icon",{staticClass:"green--text",attrs:{small:""},on:{click:function(a){t.deleteItem(e.item)}}},[t._v("\n            how_to_reg\n        ")])],1)]}}])},[a("template",{slot:"no-data"},[t._v("\n        No hay usuarios desactivados.\n    ")])],2),a("v-modal-confirm",{ref:"modalusers",attrs:{title:t.titleModal,text:t.textModal},on:{continueDeleting:t.onContinue}})],1)},Qi=[],Ji={components:{"v-modal-confirm":Yi},data:function(){return{userToActivate:new Z,titleModal:"Confirmar",textModal:"¿Realmente quieres activar de nuevo este usuario?",headers:[{text:"Nombre",align:"left",sortable:!0,value:"name"},{text:"Apellidos",align:"left",sortable:!0,value:"lastname"},{text:"Email",align:"left",sortable:!0,value:"email"},{text:"Area",align:"left",sortable:!0,value:"area"},{text:"Departamento",align:"left",sortable:!0,value:"department"},{text:"Puesto",align:"left",sortable:!0,value:"position"},{text:"Actions",value:"id",sortable:!1}]}},methods:{initialize:function(){this.$store.dispatch("users/loadUsers")},deleteItem:function(t){this.$refs.modalusers.dialog=!0,this.userToActivate=t},onContinue:function(){this.userToActivate.active=!0,this.$store.dispatch("users/changeStatusUser",this.userToActivate)},editItem:function(t){this.$router.push({name:"edit-user",params:{id:t.id}})}},computed:Object(u["a"])({},Object(v["b"])({inactiveUsers:"users/getInactiveUsers"}))},Ki=Ji,Wi=Object(f["a"])(Ki,Bi,Qi,!1,null,null,null),Xi=Wi.exports;b()(Wi,{VDataTable:Be["a"],VIcon:P["a"]});var Zi={components:{"v-active-users":Gi,"v-inactive-users":Xi},mounted:function(){this.$store.dispatch("users/loadUsers")},data:function(){return{}}},tr=Zi,er=Object(f["a"])(tr,Ai,Oi,!1,null,null,null),ar=er.exports;b()(er,{VBtn:_["a"],VCard:at["a"],VCardText:st["b"],VContainer:L["a"],VFlex:N["a"],VIcon:P["a"],VLayout:H["a"],VTab:Lt["a"],VTabItem:Yt["a"],VTabs:Nt["a"]});var sr=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-layout",{attrs:{row:""}},[a("v-card",[a("v-card-title",[a("h3",[t._v("Agregar usuario")])]),a("v-card-text",[a("v-flex",{attrs:{xs12:"",sm10:"","offset-sm1":""}},[a("v-form",[a("v-container",[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[a("v-text-field",{attrs:{label:"Nombre"},model:{value:t.user.name,callback:function(e){t.$set(t.user,"name",e)},expression:"user.name"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[a("v-text-field",{attrs:{label:"Apellidos"},model:{value:t.user.lastname,callback:function(e){t.$set(t.user,"lastname",e)},expression:"user.lastname"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[a("v-text-field",{attrs:{label:"Email",type:"email"},model:{value:t.user.email,callback:function(e){t.$set(t.user,"email",e)},expression:"user.email"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md3:""}},[a("v-text-field",{attrs:{type:"password",label:"Presupuesto"},model:{value:t.user.password,callback:function(e){t.$set(t.user,"password",e)},expression:"user.password"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md3:""}},[a("v-select",{attrs:{items:t.itemAreas,"item-value":"id","item-text":"text",label:"Area"},model:{value:t.user.area_id,callback:function(e){t.$set(t.user,"area_id",e)},expression:"user.area_id"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md3:""}},[a("v-select",{attrs:{items:t.filteredDepartments,"item-value":"id","item-text":"text",label:"Departamento"},model:{value:t.user.department_id,callback:function(e){t.$set(t.user,"department_id",e)},expression:"user.department_id"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md3:""}},[a("v-select",{attrs:{items:t.filteredPositions,"item-value":"id","item-text":"text",label:"Puesto"},model:{value:t.user.position_id,callback:function(e){t.$set(t.user,"position_id",e)},expression:"user.position_id"}})],1)],1)],1),a("v-btn",{staticClass:"blue white--text",attrs:{disabled:t.invalidForm},on:{click:t.onSubmit}},[t._v("\n                        Registrar\n                        ")])],1)],1)],1)],1),a("v-btn",{attrs:{absolute:"",dark:"",fab:"",top:"",router:"",to:"/users",right:"",color:"cyan"}},[a("v-icon",[t._v("arrow_back")])],1)],1)],1)},ir=[],rr={data:function(){return{user:new Z}},mounted:function(){this.$store.dispatch("areas/loadAreas"),this.$store.dispatch("departments/loadDepartments"),this.$store.dispatch("positions/loadPositions")},methods:{onSubmit:function(){this.$store.dispatch("users/addUser",this.user)}},computed:Object(u["a"])({},Object(v["b"])({users:"users/getUsers",areas:"areas/getAreas",departments:"departments/getDepartments",positions:"positions/getPositions"}),{itemAreas:function(){return this.areas.map(function(t){return{id:t.id,text:t.title}})},filteredDepartments:function(){var t=this;return this.departments.filter(function(e){return e.area_id==t.user.area_id}).map(function(t){return{id:t.id,text:t.title}})},filteredPositions:function(){var t=this;return this.positions.filter(function(e){return e.department_id==t.user.department_id}).map(function(t){return{id:t.id,text:t.title}})},invalidForm:function(){return""==this.user.name||""==this.user.lastname||""==this.user.email||""==this.user.password||""==this.user.area_id||""==this.user.department_id||""==this.user.position_id}})},nr=rr,or=Object(f["a"])(nr,sr,ir,!1,null,null,null),cr=or.exports;b()(or,{VBtn:_["a"],VCard:at["a"],VCardText:st["b"],VCardTitle:it["a"],VContainer:L["a"],VFlex:N["a"],VForm:rt["a"],VIcon:P["a"],VLayout:H["a"],VSelect:xe["a"],VTextField:ct["a"]});var lr=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-layout",{attrs:{row:""}},[a("v-card",[a("v-card-title",[a("h3",[t._v("Editar usuario")])]),a("v-card-text",[a("v-flex",{attrs:{xs12:"",sm10:"","offset-sm1":""}},[a("v-form",[a("v-container",[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{label:"Nombre"},model:{value:t.user.name,callback:function(e){t.$set(t.user,"name",e)},expression:"user.name"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{label:"Apellidos"},model:{value:t.user.lastname,callback:function(e){t.$set(t.user,"lastname",e)},expression:"user.lastname"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{label:"Email",type:"email"},model:{value:t.user.email,callback:function(e){t.$set(t.user,"email",e)},expression:"user.email"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{label:"Número de empleado",type:"text"},model:{value:t.user.employee_number,callback:function(e){t.$set(t.user,"employee_number",e)},expression:"user.employee_number"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[a("v-select",{attrs:{items:t.itemAreas,"item-value":"id","item-text":"text",label:"Area"},model:{value:t.user.area_id,callback:function(e){t.$set(t.user,"area_id",e)},expression:"user.area_id"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[a("v-select",{attrs:{items:t.filteredDepartments,"item-value":"id","item-text":"text",label:"Departamento"},model:{value:t.user.department_id,callback:function(e){t.$set(t.user,"department_id",e)},expression:"user.department_id"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[a("v-select",{attrs:{items:t.filteredPositions,"item-value":"id","item-text":"text",label:"Puesto"},model:{value:t.user.position_id,callback:function(e){t.$set(t.user,"position_id",e)},expression:"user.position_id"}})],1),a("v-flex",{attrs:{xs12:""}},[a("v-expansion-panel",[a("v-expansion-panel-content",[a("v-icon",{attrs:{slot:"actions",color:"error"},slot:"actions"},[t._v("vpn_key")]),a("div",{attrs:{slot:"header"},slot:"header"},[t._v("Password")]),a("v-card",[a("v-card-text",{staticClass:"grey lighten-3"},[a("v-text-field",{attrs:{label:"Cambiar contraseña",type:"password"},model:{value:t.newPassword,callback:function(e){t.newPassword=e},expression:"newPassword"}})],1)],1)],1)],1)],1)],1)],1),a("v-btn",{staticClass:"blue white--text",attrs:{disabled:t.invalidForm},on:{click:t.onSubmit}},[t._v("\n                        Actualizar\n                        ")])],1)],1)],1)],1),a("v-btn",{attrs:{absolute:"",dark:"",fab:"",top:"",router:"",to:"/users",right:"",color:"cyan"}},[a("v-icon",[t._v("arrow_back")])],1)],1)],1)},dr=[],ur={props:["id"],data:function(){return{newPassword:""}},mounted:function(){this.$store.dispatch("areas/loadAreas"),this.$store.dispatch("departments/loadDepartments"),this.$store.dispatch("positions/loadPositions"),this.getUser()},methods:{getUser:function(){this.$store.dispatch("users/loadUser",this.id)},onSubmit:function(){this.$store.dispatch("users/updateUserInfo",this.newPassword)}},computed:Object(u["a"])({},Object(v["b"])({areas:"areas/getAreas",user:"users/getEditingUser",departments:"departments/getDepartments",positions:"positions/getPositions"}),{itemAreas:function(){return this.areas.map(function(t){return{id:t.id,text:t.title}})},filteredDepartments:function(){var t=this;return this.departments.filter(function(e){return e.area_id==t.user.area_id}).map(function(t){return{id:t.id,text:t.title}})},filteredPositions:function(){var t=this;return this.positions.filter(function(e){return e.department_id==t.user.department_id}).map(function(t){return{id:t.id,text:t.title}})},invalidForm:function(){return""==this.user.name||""==this.user.lastname||""==this.user.email||""==this.user.password||""==this.user.area_id||""==this.user.department_id||""==this.user.position_id}})},vr=ur,mr=a("cd55"),pr=a("49e2"),fr=Object(f["a"])(vr,lr,dr,!1,null,null,null),hr=fr.exports;b()(fr,{VBtn:_["a"],VCard:at["a"],VCardText:st["b"],VCardTitle:it["a"],VContainer:L["a"],VExpansionPanel:mr["a"],VExpansionPanelContent:pr["a"],VFlex:N["a"],VForm:rt["a"],VIcon:P["a"],VLayout:H["a"],VSelect:xe["a"],VTextField:ct["a"]});var br=[{component:ar,path:"/users",name:"users",beforeEnter:fe},{component:cr,name:"add-user",path:"/users/add",beforeEnter:fe},{component:hr,beforeEnter:fe,path:"/users/:id",name:"edit-user",props:!0}];r["a"].use(J["a"]);var _r=new J["a"]({mode:"history",base:"/",routes:[{path:"/",name:"login",component:dt}].concat(Object(Q["a"])(ua),Object(Q["a"])(Ba),Object(Q["a"])(Ts),Object(Q["a"])(Si),Object(Q["a"])(br))}),gr=a("a65d"),xr=a.n(gr),jr=a("a7fe"),yr=a.n(jr);r["a"].use(yr.a,Zt.a),Zt.a.defaults.baseURL="https://viatics.gmsdevelopment.com.mx/api/v1",r["a"].use(xr.a,{duration:3e3}),r["a"].config.productionTip=!1,Zt.a.interceptors.request.use(function(t){pe.dispatch("updateStateLoadingResource",!0,{root:!0});var e=localStorage.getItem("token");return e?(t.headers.Authorization=e,t):t},function(t){return i.a.reject(t)}),Zt.a.interceptors.response.use(function(t){return pe.dispatch("updateStateLoadingResource",!1,{root:!0}),t.data&&t.data.message&&r["a"].toasted.info(t.data.message),t},function(t){return pe.dispatch("updateStateLoadingResource",!1,{root:!0}),t.response&&(401===t.response.status?(pe.dispatch("auth/logoutUser",null,{root:!0}),t.response.data.message?r["a"].toasted.error(t.response.data.message):r["a"].toasted.info("Your sesion has expired, login again :)"),_r.push("/")):403==t.response.status?t.response.data.message?r["a"].toasted.error(t.response.data.message):r["a"].toasted.error("Something went wrong. Please try again."):500===t.response.status&&(t.response.data.message?r["a"].toasted.error(t.response.data.message):r["a"].toasted.error("Something went wrong. Please try again."))),i.a.reject(t)}),new r["a"]({router:_r,store:pe,render:function(t){return t(B)}}).$mount("#app")},afd8:function(t,e,a){t.exports=a.p+"img/landing.01304d27.jpg"},cce1:function(t,e,a){}});
//# sourceMappingURL=app.e0608eba.js.map